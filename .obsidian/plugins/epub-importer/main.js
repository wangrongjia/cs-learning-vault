/** GENERATED BY OBSIDIAN-PLUGIN-CLI, DO NOT EDIT */
var Fl=Object.create;var Ft=Object.defineProperty;var Ml=Object.getOwnPropertyDescriptor;var _l=Object.getOwnPropertyNames;var jl=Object.getPrototypeOf,kl=Object.prototype.hasOwnProperty;var zi=t=>Ft(t,"__esModule",{value:!0});var F=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),En=(t,e)=>{zi(t);for(var r in e)Ft(t,r,{get:e[r],enumerable:!0})},Rl=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of _l(e))!kl.call(t,n)&&n!=="default"&&Ft(t,n,{get:()=>e[n],enumerable:!(r=Ml(e,n))||r.enumerable});return t},he=t=>Rl(zi(Ft(t!=null?Fl(jl(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Mt=F(xn=>{(function(){xn.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(xn)});var ve=F((Vi,Me)=>{(function(){var t,e,r,n,i,s,o,a=[].slice,u={}.hasOwnProperty;t=function(){var c,f,l,p,g,v;if(v=arguments[0],g=2<=arguments.length?a.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,l=g.length;c<l;c++)if(p=g[c],p!=null)for(f in p)!u.call(p,f)||(v[f]=p[f]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var f;return!!c&&((f=typeof c)==="function"||f==="object")},r=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},n=function(c){var f;if(r(c))return!c.length;for(f in c)if(!!u.call(c,f))return!1;return!0},o=function(c){var f,l;return s(c)&&(l=Object.getPrototypeOf(c))&&(f=l.constructor)&&typeof f=="function"&&f instanceof f&&Function.prototype.toString.call(f)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},Me.exports.assign=t,Me.exports.isFunction=i,Me.exports.isObject=s,Me.exports.isArray=r,Me.exports.isEmpty=n,Me.exports.isPlainObject=o,Me.exports.getValue=e}).call(Vi)});var On=F((Wi,Hi)=>{(function(){var t;Hi.exports=t=function(){function e(){}return e.prototype.hasFeature=function(r,n){return!0},e.prototype.createDocumentType=function(r,n,i){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(r,n,i){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(r){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(r,n){throw new Error("This DOM method is not implemented.")},e}()}).call(Wi)});var Yi=F((Ki,Gi)=>{(function(){var t;Gi.exports=t=function(){function e(){}return e.prototype.handleError=function(r){throw new Error(r)},e}()}).call(Ki)});var Zi=F((Ji,Qi)=>{(function(){var t;Qi.exports=t=function(){function e(r){this.arr=r||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(r){return this.arr[r]||null},e.prototype.contains=function(r){return this.arr.indexOf(r)!==-1},e}()}).call(Ji)});var rs=F((es,ts)=>{(function(){var t,e,r;e=Yi(),r=Zi(),ts.exports=t=function(){function n(){var i;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=i=Object.create(this.defaultParams)}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),n.prototype.getParameter=function(i){return this.params.hasOwnProperty(i)?this.params[i]:null},n.prototype.canSetParameter=function(i,s){return!0},n.prototype.setParameter=function(i,s){return s!=null?this.params[i]=s:delete this.params[i]},n}()}).call(es)});var H=F((ns,is)=>{(function(){is.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(ns)});var Tn=F((ss,os)=>{(function(){var t,e,r;t=H(),r=ie(),os.exports=e=function(){function n(i,s,o){if(this.parent=i,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),s==null)throw new Error("Missing attribute name. "+this.debugInfo(s));this.name=this.stringify.name(s),this.value=this.stringify.attValue(o),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(n.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.value},set:function(i){return this.value=i||""}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"specified",{get:function(){return!0}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(i){return this.options.writer.attribute(this,this.options.writer.filterOptions(i))},n.prototype.debugInfo=function(i){return i=i||this.name,i==null?"parent: <"+this.parent.name+">":"attribute: {"+i+"}, parent: <"+this.parent.name+">"},n.prototype.isEqualNode=function(i){return!(i.namespaceURI!==this.namespaceURI||i.prefix!==this.prefix||i.localName!==this.localName||i.value!==this.value)},n}()}).call(ss)});var _t=F((as,us)=>{(function(){var t;us.exports=t=function(){function e(r){this.nodes=r}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(r){return this.nodes[r]},e.prototype.setNamedItem=function(r){var n;return n=this.nodes[r.nodeName],this.nodes[r.nodeName]=r,n||null},e.prototype.removeNamedItem=function(r){var n;return n=this.nodes[r],delete this.nodes[r],n||null},e.prototype.item=function(r){return this.nodes[Object.keys(this.nodes)[r]]||null},e.prototype.getNamedItemNS=function(r,n){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(r){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(r,n){throw new Error("This DOM method is not implemented.")},e}()}).call(as)});var jt=F((cs,ls)=>{(function(){var t,e,r,n,i,s,o,a,u,c=function(l,p){for(var g in p)f.call(p,g)&&(l[g]=p[g]);function v(){this.constructor=l}return v.prototype=p.prototype,l.prototype=new v,l.__super__=p.prototype,l},f={}.hasOwnProperty;u=ve(),a=u.isObject,o=u.isFunction,s=u.getValue,i=ie(),t=H(),e=Tn(),n=_t(),ls.exports=r=function(l){c(p,l);function p(g,v,x){var S,N,O,b;if(p.__super__.constructor.call(this,g),v==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(v),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,x!=null&&this.attribute(x),g.type===t.Document&&(this.isRoot=!0,this.documentObject=g,g.rootObject=this,g.children)){for(b=g.children,N=0,O=b.length;N<O;N++)if(S=b[N],S.type===t.DocType){S.name=this.name;break}}}return Object.defineProperty(p.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(p.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(p.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(p.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(p.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(p.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(p.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(p.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new n(this.attribs)),this.attributeMap}}),p.prototype.clone=function(){var g,v,x,S;x=Object.create(this),x.isRoot&&(x.documentObject=null),x.attribs={},S=this.attribs;for(v in S)!f.call(S,v)||(g=S[v],x.attribs[v]=g.clone());return x.children=[],this.children.forEach(function(N){var O;return O=N.clone(),O.parent=x,x.children.push(O)}),x},p.prototype.attribute=function(g,v){var x,S;if(g!=null&&(g=s(g)),a(g))for(x in g)!f.call(g,x)||(S=g[x],this.attribute(x,S));else o(v)&&(v=v.apply()),this.options.keepNullAttributes&&v==null?this.attribs[g]=new e(this,g,""):v!=null&&(this.attribs[g]=new e(this,g,v));return this},p.prototype.removeAttribute=function(g){var v,x,S;if(g==null)throw new Error("Missing attribute name. "+this.debugInfo());if(g=s(g),Array.isArray(g))for(x=0,S=g.length;x<S;x++)v=g[x],delete this.attribs[v];else delete this.attribs[g];return this},p.prototype.toString=function(g){return this.options.writer.element(this,this.options.writer.filterOptions(g))},p.prototype.att=function(g,v){return this.attribute(g,v)},p.prototype.a=function(g,v){return this.attribute(g,v)},p.prototype.getAttribute=function(g){return this.attribs.hasOwnProperty(g)?this.attribs[g].value:null},p.prototype.setAttribute=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getAttributeNode=function(g){return this.attribs.hasOwnProperty(g)?this.attribs[g]:null},p.prototype.setAttributeNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.removeAttributeNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getAttributeNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.setAttributeNS=function(g,v,x){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.removeAttributeNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getAttributeNodeNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.setAttributeNodeNS=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagNameNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.hasAttribute=function(g){return this.attribs.hasOwnProperty(g)},p.prototype.hasAttributeNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.setIdAttribute=function(g,v){return this.attribs.hasOwnProperty(g)?this.attribs[g].isId:v},p.prototype.setIdAttributeNS=function(g,v,x){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.setIdAttributeNode=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagNameNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByClassName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isEqualNode=function(g){var v,x,S;if(!p.__super__.isEqualNode.apply(this,arguments).isEqualNode(g)||g.namespaceURI!==this.namespaceURI||g.prefix!==this.prefix||g.localName!==this.localName||g.attribs.length!==this.attribs.length)return!1;for(v=x=0,S=this.attribs.length-1;0<=S?x<=S:x>=S;v=0<=S?++x:--x)if(!this.attribs[v].isEqualNode(g.attribs[v]))return!1;return!0},p}(i)}).call(cs)});var lt=F((fs,hs)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function a(){this.constructor=i}return a.prototype=s.prototype,i.prototype=new a,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=ie(),hs.exports=t=function(i){r(s,i);function s(o){s.__super__.constructor.call(this,o),this.value=""}return Object.defineProperty(s.prototype,"data",{get:function(){return this.value},set:function(o){return this.value=o||""}}),Object.defineProperty(s.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(s.prototype,"textContent",{get:function(){return this.value},set:function(o){return this.value=o||""}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.substringData=function(o,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.appendData=function(o){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.insertData=function(o,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.deleteData=function(o,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.replaceData=function(o,a,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.isEqualNode=function(o){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(o)||o.data!==this.data)},s}(e)}).call(fs)});var kt=F((ps,ds)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;t=H(),r=lt(),ds.exports=e=function(s){n(o,s);function o(a,u){if(o.__super__.constructor.call(this,a),u==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(u)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.cdata(this,this.options.writer.filterOptions(a))},o}(r)}).call(ps)});var Rt=F((gs,ms)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;t=H(),e=lt(),ms.exports=r=function(s){n(o,s);function o(a,u){if(o.__super__.constructor.call(this,a),u==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(u)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.comment(this,this.options.writer.filterOptions(a))},o}(e)}).call(gs)});var qt=F((ys,vs)=>{(function(){var t,e,r,n,i=function(o,a){for(var u in a)s.call(a,u)&&(o[u]=a[u]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},s={}.hasOwnProperty;n=ve().isObject,r=ie(),t=H(),vs.exports=e=function(o){i(a,o);function a(u,c,f,l){var p;a.__super__.constructor.call(this,u),n(c)&&(p=c,c=p.version,f=p.encoding,l=p.standalone),c||(c="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(c),f!=null&&(this.encoding=this.stringify.xmlEncoding(f)),l!=null&&(this.standalone=this.stringify.xmlStandalone(l))}return a.prototype.toString=function(u){return this.options.writer.declaration(this,this.options.writer.filterOptions(u))},a}(r)}).call(ys)});var Xt=F((bs,ws)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;r=ie(),t=H(),ws.exports=e=function(s){n(o,s);function o(a,u,c,f,l,p){if(o.__super__.constructor.call(this,a),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(c==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(u));if(!f)throw new Error("Missing DTD attribute type. "+this.debugInfo(u));if(!l)throw new Error("Missing DTD attribute default. "+this.debugInfo(u));if(l.indexOf("#")!==0&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(u));if(p&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(u));this.elementName=this.stringify.name(u),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(c),this.attributeType=this.stringify.dtdAttType(f),p&&(this.defaultValue=this.stringify.dtdAttDefault(p)),this.defaultValueType=l}return o.prototype.toString=function(a){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(a))},o}(r)}).call(bs)});var Bt=F((Es,xs)=>{(function(){var t,e,r,n,i=function(o,a){for(var u in a)s.call(a,u)&&(o[u]=a[u]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},s={}.hasOwnProperty;n=ve().isObject,r=ie(),t=H(),xs.exports=e=function(o){i(a,o);function a(u,c,f,l){if(a.__super__.constructor.call(this,u),f==null)throw new Error("Missing DTD entity name. "+this.debugInfo(f));if(l==null)throw new Error("Missing DTD entity value. "+this.debugInfo(f));if(this.pe=!!c,this.name=this.stringify.name(f),this.type=t.EntityDeclaration,!n(l))this.value=this.stringify.dtdEntityValue(l),this.internal=!0;else{if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(f));if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(f));if(this.internal=!1,l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID)),l.nData!=null&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(f))}}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(a.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(a.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlVersion",{get:function(){return null}}),a.prototype.toString=function(u){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(u))},a}(r)}).call(Es)});var Ut=F((Os,Ts)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;r=ie(),t=H(),Ts.exports=e=function(s){n(o,s);function o(a,u,c){if(o.__super__.constructor.call(this,a),u==null)throw new Error("Missing DTD element name. "+this.debugInfo());c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.name(u),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(c)}return o.prototype.toString=function(a){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(a))},o}(r)}).call(Os)});var $t=F((Ns,Ss)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;r=ie(),t=H(),Ss.exports=e=function(s){n(o,s);function o(a,u,c){if(o.__super__.constructor.call(this,a),u==null)throw new Error("Missing DTD notation name. "+this.debugInfo(u));if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(u));this.name=this.stringify.name(u),this.type=t.NotationDeclaration,c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return Object.defineProperty(o.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(o.prototype,"systemId",{get:function(){return this.sysID}}),o.prototype.toString=function(a){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(a))},o}(r)}).call(Ns)});var zt=F((Ds,Cs)=>{(function(){var t,e,r,n,i,s,o,a,u,c=function(l,p){for(var g in p)f.call(p,g)&&(l[g]=p[g]);function v(){this.constructor=l}return v.prototype=p.prototype,l.prototype=new v,l.__super__=p.prototype,l},f={}.hasOwnProperty;u=ve().isObject,a=ie(),t=H(),e=Xt(),n=Bt(),r=Ut(),i=$t(),o=_t(),Cs.exports=s=function(l){c(p,l);function p(g,v,x){var S,N,O,b,h,d;if(p.__super__.constructor.call(this,g),this.type=t.DocType,g.children){for(b=g.children,N=0,O=b.length;N<O;N++)if(S=b[N],S.type===t.Element){this.name=S.name;break}}this.documentObject=g,u(v)&&(h=v,v=h.pubID,x=h.sysID),x==null&&(d=[v,x],x=d[0],v=d[1]),v!=null&&(this.pubID=this.stringify.dtdPubID(v)),x!=null&&(this.sysID=this.stringify.dtdSysID(x))}return Object.defineProperty(p.prototype,"entities",{get:function(){var g,v,x,S,N;for(S={},N=this.children,v=0,x=N.length;v<x;v++)g=N[v],g.type===t.EntityDeclaration&&!g.pe&&(S[g.name]=g);return new o(S)}}),Object.defineProperty(p.prototype,"notations",{get:function(){var g,v,x,S,N;for(S={},N=this.children,v=0,x=N.length;v<x;v++)g=N[v],g.type===t.NotationDeclaration&&(S[g.name]=g);return new o(S)}}),Object.defineProperty(p.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(p.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(p.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),p.prototype.element=function(g,v){var x;return x=new r(this,g,v),this.children.push(x),this},p.prototype.attList=function(g,v,x,S,N){var O;return O=new e(this,g,v,x,S,N),this.children.push(O),this},p.prototype.entity=function(g,v){var x;return x=new n(this,!1,g,v),this.children.push(x),this},p.prototype.pEntity=function(g,v){var x;return x=new n(this,!0,g,v),this.children.push(x),this},p.prototype.notation=function(g,v){var x;return x=new i(this,g,v),this.children.push(x),this},p.prototype.toString=function(g){return this.options.writer.docType(this,this.options.writer.filterOptions(g))},p.prototype.ele=function(g,v){return this.element(g,v)},p.prototype.att=function(g,v,x,S,N){return this.attList(g,v,x,S,N)},p.prototype.ent=function(g,v){return this.entity(g,v)},p.prototype.pent=function(g,v){return this.pEntity(g,v)},p.prototype.not=function(g,v){return this.notation(g,v)},p.prototype.up=function(){return this.root()||this.documentObject},p.prototype.isEqualNode=function(g){return!(!p.__super__.isEqualNode.apply(this,arguments).isEqualNode(g)||g.name!==this.name||g.publicId!==this.publicId||g.systemId!==this.systemId)},p}(a)}).call(Ds)});var Vt=F((Ps,Is)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;t=H(),e=ie(),Is.exports=r=function(s){n(o,s);function o(a,u){if(o.__super__.constructor.call(this,a),u==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(u)}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.raw(this,this.options.writer.filterOptions(a))},o}(e)}).call(Ps)});var Wt=F((Ls,As)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;t=H(),e=lt(),As.exports=r=function(s){n(o,s);function o(a,u){if(o.__super__.constructor.call(this,a),u==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(u)}return Object.defineProperty(o.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(o.prototype,"wholeText",{get:function(){var a,u,c;for(c="",u=this.previousSibling;u;)c=u.data+c,u=u.previousSibling;for(c+=this.data,a=this.nextSibling;a;)c=c+a.data,a=a.nextSibling;return c}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.text(this,this.options.writer.filterOptions(a))},o.prototype.splitText=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceWholeText=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o}(e)}).call(Ls)});var Ht=F((Fs,Ms)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;t=H(),e=lt(),Ms.exports=r=function(s){n(o,s);function o(a,u,c){if(o.__super__.constructor.call(this,a),u==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(u),this.name=this.target,c&&(this.value=this.stringify.insValue(c))}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(a))},o.prototype.isEqualNode=function(a){return!(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.target!==this.target)},o}(e)}).call(Fs)});var Nn=F((_s,js)=>{(function(){var t,e,r,n=function(s,o){for(var a in o)i.call(o,a)&&(s[a]=o[a]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},i={}.hasOwnProperty;r=ie(),t=H(),js.exports=e=function(s){n(o,s);function o(a){o.__super__.constructor.call(this,a),this.type=t.Dummy}return o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(a){return""},o}(r)}).call(_s)});var qs=F((ks,Rs)=>{(function(){var t;Rs.exports=t=function(){function e(r){this.nodes=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(r){return this.nodes[r]||null},e}()}).call(ks)});var Us=F((Xs,Bs)=>{(function(){Bs.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(Xs)});var ie=F(($s,zs)=>{(function(){var t,e,r,n,i,s,o,a,u,c,f,l,p,g,v,x,S,N,O,b={}.hasOwnProperty;O=ve(),N=O.isObject,S=O.isFunction,x=O.isEmpty,v=O.getValue,a=null,r=null,n=null,i=null,s=null,p=null,g=null,l=null,o=null,e=null,f=null,u=null,t=null,zs.exports=c=function(){function h(d){this.parent=d,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,a||(a=jt(),r=kt(),n=Rt(),i=qt(),s=zt(),p=Vt(),g=Wt(),l=Ht(),o=Nn(),e=H(),f=qs(),u=_t(),t=Us())}return Object.defineProperty(h.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(h.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(h.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(h.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(h.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new f(this.children)),this.childNodeList}}),Object.defineProperty(h.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(h.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(h.prototype,"previousSibling",{get:function(){var d;return d=this.parent.children.indexOf(this),this.parent.children[d-1]||null}}),Object.defineProperty(h.prototype,"nextSibling",{get:function(){var d;return d=this.parent.children.indexOf(this),this.parent.children[d+1]||null}}),Object.defineProperty(h.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(h.prototype,"textContent",{get:function(){var d,E,D,y,P;if(this.nodeType===e.Element||this.nodeType===e.DocumentFragment){for(P="",y=this.children,E=0,D=y.length;E<D;E++)d=y[E],d.textContent&&(P+=d.textContent);return P}else return null},set:function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),h.prototype.setParent=function(d){var E,D,y,P,T;for(this.parent=d,d&&(this.options=d.options,this.stringify=d.stringify),P=this.children,T=[],D=0,y=P.length;D<y;D++)E=P[D],T.push(E.setParent(this));return T},h.prototype.element=function(d,E,D){var y,P,T,I,A,M,k,R,_,$,q;if(M=null,E===null&&D==null&&(_=[{},null],E=_[0],D=_[1]),E==null&&(E={}),E=v(E),N(E)||($=[E,D],D=$[0],E=$[1]),d!=null&&(d=v(d)),Array.isArray(d))for(T=0,k=d.length;T<k;T++)P=d[T],M=this.element(P);else if(S(d))M=this.element(d.apply());else if(N(d)){for(A in d)if(!!b.call(d,A))if(q=d[A],S(q)&&(q=q.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&A.indexOf(this.stringify.convertAttKey)===0)M=this.attribute(A.substr(this.stringify.convertAttKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q)&&x(q))M=this.dummy();else if(N(q)&&x(q))M=this.element(A);else if(!this.options.keepNullNodes&&q==null)M=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(q))for(I=0,R=q.length;I<R;I++)P=q[I],y={},y[A]=P,M=this.element(y);else N(q)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&A.indexOf(this.stringify.convertTextKey)===0?M=this.element(q):(M=this.element(A),M.element(q)):M=this.element(A,q)}else!this.options.keepNullNodes&&D===null?M=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&d.indexOf(this.stringify.convertTextKey)===0?M=this.text(D):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&d.indexOf(this.stringify.convertCDataKey)===0?M=this.cdata(D):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&d.indexOf(this.stringify.convertCommentKey)===0?M=this.comment(D):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&d.indexOf(this.stringify.convertRawKey)===0?M=this.raw(D):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&d.indexOf(this.stringify.convertPIKey)===0?M=this.instruction(d.substr(this.stringify.convertPIKey.length),D):M=this.node(d,E,D);if(M==null)throw new Error("Could not create any elements with: "+d+". "+this.debugInfo());return M},h.prototype.insertBefore=function(d,E,D){var y,P,T,I,A;if(d!=null?d.type:void 0)return T=d,I=E,T.setParent(this),I?(P=children.indexOf(I),A=children.splice(P),children.push(T),Array.prototype.push.apply(children,A)):children.push(T),T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(d));return P=this.parent.children.indexOf(this),A=this.parent.children.splice(P),y=this.parent.element(d,E,D),Array.prototype.push.apply(this.parent.children,A),y},h.prototype.insertAfter=function(d,E,D){var y,P,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(d));return P=this.parent.children.indexOf(this),T=this.parent.children.splice(P+1),y=this.parent.element(d,E,D),Array.prototype.push.apply(this.parent.children,T),y},h.prototype.remove=function(){var d,E;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return d=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[d,d-d+1].concat(E=[])),this.parent},h.prototype.node=function(d,E,D){var y,P;return d!=null&&(d=v(d)),E||(E={}),E=v(E),N(E)||(P=[E,D],D=P[0],E=P[1]),y=new a(this,d,E),D!=null&&y.text(D),this.children.push(y),y},h.prototype.text=function(d){var E;return N(d)&&this.element(d),E=new g(this,d),this.children.push(E),this},h.prototype.cdata=function(d){var E;return E=new r(this,d),this.children.push(E),this},h.prototype.comment=function(d){var E;return E=new n(this,d),this.children.push(E),this},h.prototype.commentBefore=function(d){var E,D,y;return D=this.parent.children.indexOf(this),y=this.parent.children.splice(D),E=this.parent.comment(d),Array.prototype.push.apply(this.parent.children,y),this},h.prototype.commentAfter=function(d){var E,D,y;return D=this.parent.children.indexOf(this),y=this.parent.children.splice(D+1),E=this.parent.comment(d),Array.prototype.push.apply(this.parent.children,y),this},h.prototype.raw=function(d){var E;return E=new p(this,d),this.children.push(E),this},h.prototype.dummy=function(){var d;return d=new o(this),d},h.prototype.instruction=function(d,E){var D,y,P,T,I;if(d!=null&&(d=v(d)),E!=null&&(E=v(E)),Array.isArray(d))for(T=0,I=d.length;T<I;T++)D=d[T],this.instruction(D);else if(N(d))for(D in d)!b.call(d,D)||(y=d[D],this.instruction(D,y));else S(E)&&(E=E.apply()),P=new l(this,d,E),this.children.push(P);return this},h.prototype.instructionBefore=function(d,E){var D,y,P;return y=this.parent.children.indexOf(this),P=this.parent.children.splice(y),D=this.parent.instruction(d,E),Array.prototype.push.apply(this.parent.children,P),this},h.prototype.instructionAfter=function(d,E){var D,y,P;return y=this.parent.children.indexOf(this),P=this.parent.children.splice(y+1),D=this.parent.instruction(d,E),Array.prototype.push.apply(this.parent.children,P),this},h.prototype.declaration=function(d,E,D){var y,P;return y=this.document(),P=new i(y,d,E,D),y.children.length===0?y.children.unshift(P):y.children[0].type===e.Declaration?y.children[0]=P:y.children.unshift(P),y.root()||y},h.prototype.dtd=function(d,E){var D,y,P,T,I,A,M,k,R,_;for(y=this.document(),P=new s(y,d,E),R=y.children,T=I=0,M=R.length;I<M;T=++I)if(D=R[T],D.type===e.DocType)return y.children[T]=P,P;for(_=y.children,T=A=0,k=_.length;A<k;T=++A)if(D=_[T],D.isRoot)return y.children.splice(T,0,P),P;return y.children.push(P),P},h.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},h.prototype.root=function(){var d;for(d=this;d;){if(d.type===e.Document)return d.rootObject;if(d.isRoot)return d;d=d.parent}},h.prototype.document=function(){var d;for(d=this;d;){if(d.type===e.Document)return d;d=d.parent}},h.prototype.end=function(d){return this.document().end(d)},h.prototype.prev=function(){var d;if(d=this.parent.children.indexOf(this),d<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[d-1]},h.prototype.next=function(){var d;if(d=this.parent.children.indexOf(this),d===-1||d===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[d+1]},h.prototype.importDocument=function(d){var E;return E=d.root().clone(),E.parent=this,E.isRoot=!1,this.children.push(E),this},h.prototype.debugInfo=function(d){var E,D;return d=d||this.name,d==null&&!((E=this.parent)!=null?E.name:void 0)?"":d==null?"parent: <"+this.parent.name+">":((D=this.parent)!=null?D.name:void 0)?"node: <"+d+">, parent: <"+this.parent.name+">":"node: <"+d+">"},h.prototype.ele=function(d,E,D){return this.element(d,E,D)},h.prototype.nod=function(d,E,D){return this.node(d,E,D)},h.prototype.txt=function(d){return this.text(d)},h.prototype.dat=function(d){return this.cdata(d)},h.prototype.com=function(d){return this.comment(d)},h.prototype.ins=function(d,E){return this.instruction(d,E)},h.prototype.doc=function(){return this.document()},h.prototype.dec=function(d,E,D){return this.declaration(d,E,D)},h.prototype.e=function(d,E,D){return this.element(d,E,D)},h.prototype.n=function(d,E,D){return this.node(d,E,D)},h.prototype.t=function(d){return this.text(d)},h.prototype.d=function(d){return this.cdata(d)},h.prototype.c=function(d){return this.comment(d)},h.prototype.r=function(d){return this.raw(d)},h.prototype.i=function(d,E){return this.instruction(d,E)},h.prototype.u=function(){return this.up()},h.prototype.importXMLBuilder=function(d){return this.importDocument(d)},h.prototype.replaceChild=function(d,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.removeChild=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.appendChild=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.hasChildNodes=function(){return this.children.length!==0},h.prototype.cloneNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.isSupported=function(d,E){return!0},h.prototype.hasAttributes=function(){return this.attribs.length!==0},h.prototype.compareDocumentPosition=function(d){var E,D;return E=this,E===d?0:this.document()!==d.document()?(D=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?D|=t.Preceding:D|=t.Following,D):E.isAncestor(d)?t.Contains|t.Preceding:E.isDescendant(d)?t.Contains|t.Following:E.isPreceding(d)?t.Preceding:t.Following},h.prototype.isSameNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.lookupPrefix=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.isDefaultNamespace=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.lookupNamespaceURI=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.isEqualNode=function(d){var E,D,y;if(d.nodeType!==this.nodeType||d.children.length!==this.children.length)return!1;for(E=D=0,y=this.children.length-1;0<=y?D<=y:D>=y;E=0<=y?++D:--D)if(!this.children[E].isEqualNode(d.children[E]))return!1;return!0},h.prototype.getFeature=function(d,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setUserData=function(d,E,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getUserData=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.contains=function(d){return d?d===this||this.isDescendant(d):!1},h.prototype.isDescendant=function(d){var E,D,y,P,T;for(T=this.children,y=0,P=T.length;y<P;y++)if(E=T[y],d===E||(D=E.isDescendant(d),D))return!0;return!1},h.prototype.isAncestor=function(d){return d.isDescendant(this)},h.prototype.isPreceding=function(d){var E,D;return E=this.treePosition(d),D=this.treePosition(this),E===-1||D===-1?!1:E<D},h.prototype.isFollowing=function(d){var E,D;return E=this.treePosition(d),D=this.treePosition(this),E===-1||D===-1?!1:E>D},h.prototype.treePosition=function(d){var E,D;return D=0,E=!1,this.foreachTreeNode(this.document(),function(y){if(D++,!E&&y===d)return E=!0}),E?D:-1},h.prototype.foreachTreeNode=function(d,E){var D,y,P,T,I;for(d||(d=this.document()),T=d.children,y=0,P=T.length;y<P;y++){if(D=T[y],I=E(D))return I;if(I=this.foreachTreeNode(D,E),I)return I}},h}()}).call($s)});var Sn=F((Vs,Ws)=>{(function(){var t,e=function(n,i){return function(){return n.apply(i,arguments)}},r={}.hasOwnProperty;Ws.exports=t=function(){function n(i){this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this);var s,o,a;i||(i={}),this.options=i,this.options.version||(this.options.version="1.0"),o=i.stringify||{};for(s in o)!r.call(o,s)||(a=o[s],this[s]=a)}return n.prototype.name=function(i){return this.options.noValidation?i:this.assertLegalName(""+i||"")},n.prototype.text=function(i){return this.options.noValidation?i:this.assertLegalChar(this.textEscape(""+i||""))},n.prototype.cdata=function(i){return this.options.noValidation?i:(i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i))},n.prototype.comment=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return this.options.noValidation?i:""+i||""},n.prototype.attValue=function(i){return this.options.noValidation?i:this.assertLegalChar(this.attEscape(i=""+i||""))},n.prototype.insTarget=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.insValue=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return this.assertLegalChar(i)},n.prototype.xmlVersion=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return this.assertLegalChar(i)},n.prototype.xmlStandalone=function(i){return this.options.noValidation?i:i?"yes":"no"},n.prototype.dtdPubID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdSysID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdElementValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdAttType=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdAttDefault=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdEntityValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdNData=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var s,o;if(this.options.noValidation)return i;if(s="",this.options.version==="1.0"){if(s=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,o=i.match(s))throw new Error("Invalid character in string: "+i+" at index "+o.index)}else if(this.options.version==="1.1"&&(s=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,o=i.match(s)))throw new Error("Invalid character in string: "+i+" at index "+o.index);return i},n.prototype.assertLegalName=function(i){var s;if(this.options.noValidation)return i;if(this.assertLegalChar(i),s=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!i.match(s))throw new Error("Invalid character in name");return i},n.prototype.textEscape=function(i){var s;return this.options.noValidation?i:(s=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(s,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},n.prototype.attEscape=function(i){var s;return this.options.noValidation?i:(s=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(s,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},n}()}).call(Vs)});var ft=F((Hs,Ks)=>{(function(){Ks.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(Hs)});var Dn=F((Gs,Ys)=>{(function(){var t,e,r,n,i,s,o,a,u,c,f,l,p,g,v,x,S,N={}.hasOwnProperty;S=ve().assign,t=H(),u=qt(),c=zt(),r=kt(),n=Rt(),l=jt(),g=Vt(),v=Wt(),p=Ht(),f=Nn(),i=Xt(),s=Ut(),o=Bt(),a=$t(),e=ft(),Ys.exports=x=function(){function O(b){var h,d,E;b||(b={}),this.options=b,d=b.writer||{};for(h in d)!N.call(d,h)||(E=d[h],this["_"+h]=this[h],this[h]=E)}return O.prototype.filterOptions=function(b){var h,d,E,D,y,P,T,I;return b||(b={}),b=S({},this.options,b),h={writer:this},h.pretty=b.pretty||!1,h.allowEmpty=b.allowEmpty||!1,h.indent=(d=b.indent)!=null?d:"  ",h.newline=(E=b.newline)!=null?E:`
`,h.offset=(D=b.offset)!=null?D:0,h.dontPrettyTextNodes=(y=(P=b.dontPrettyTextNodes)!=null?P:b.dontprettytextnodes)!=null?y:0,h.spaceBeforeSlash=(T=(I=b.spaceBeforeSlash)!=null?I:b.spacebeforeslash)!=null?T:"",h.spaceBeforeSlash===!0&&(h.spaceBeforeSlash=" "),h.suppressPrettyCount=0,h.user={},h.state=e.None,h},O.prototype.indent=function(b,h,d){var E;return!h.pretty||h.suppressPrettyCount?"":h.pretty&&(E=(d||0)+h.offset+1,E>0)?new Array(E).join(h.indent):""},O.prototype.endline=function(b,h,d){return!h.pretty||h.suppressPrettyCount?"":h.newline},O.prototype.attribute=function(b,h,d){var E;return this.openAttribute(b,h,d),E=" "+b.name+'="'+b.value+'"',this.closeAttribute(b,h,d),E},O.prototype.cdata=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d)+"<![CDATA[",h.state=e.InsideTag,E+=b.value,h.state=e.CloseTag,E+="]]>"+this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.comment=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d)+"<!-- ",h.state=e.InsideTag,E+=b.value,h.state=e.CloseTag,E+=" -->"+this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.declaration=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d)+"<?xml",h.state=e.InsideTag,E+=' version="'+b.version+'"',b.encoding!=null&&(E+=' encoding="'+b.encoding+'"'),b.standalone!=null&&(E+=' standalone="'+b.standalone+'"'),h.state=e.CloseTag,E+=h.spaceBeforeSlash+"?>",E+=this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.docType=function(b,h,d){var E,D,y,P,T;if(d||(d=0),this.openNode(b,h,d),h.state=e.OpenTag,P=this.indent(b,h,d),P+="<!DOCTYPE "+b.root().name,b.pubID&&b.sysID?P+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.sysID&&(P+=' SYSTEM "'+b.sysID+'"'),b.children.length>0){for(P+=" [",P+=this.endline(b,h,d),h.state=e.InsideTag,T=b.children,D=0,y=T.length;D<y;D++)E=T[D],P+=this.writeChildNode(E,h,d+1);h.state=e.CloseTag,P+="]"}return h.state=e.CloseTag,P+=h.spaceBeforeSlash+">",P+=this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),P},O.prototype.element=function(b,h,d){var E,D,y,P,T,I,A,M,k,R,_,$,q,fe;d||(d=0),R=!1,_="",this.openNode(b,h,d),h.state=e.OpenTag,_+=this.indent(b,h,d)+"<"+b.name,$=b.attribs;for(k in $)!N.call($,k)||(E=$[k],_+=this.attribute(E,h,d));if(y=b.children.length,P=y===0?null:b.children[0],y===0||b.children.every(function(ne){return(ne.type===t.Text||ne.type===t.Raw)&&ne.value===""}))h.allowEmpty?(_+=">",h.state=e.CloseTag,_+="</"+b.name+">"+this.endline(b,h,d)):(h.state=e.CloseTag,_+=h.spaceBeforeSlash+"/>"+this.endline(b,h,d));else if(h.pretty&&y===1&&(P.type===t.Text||P.type===t.Raw)&&P.value!=null)_+=">",h.state=e.InsideTag,h.suppressPrettyCount++,R=!0,_+=this.writeChildNode(P,h,d+1),h.suppressPrettyCount--,R=!1,h.state=e.CloseTag,_+="</"+b.name+">"+this.endline(b,h,d);else{if(h.dontPrettyTextNodes){for(q=b.children,T=0,A=q.length;T<A;T++)if(D=q[T],(D.type===t.Text||D.type===t.Raw)&&D.value!=null){h.suppressPrettyCount++,R=!0;break}}for(_+=">"+this.endline(b,h,d),h.state=e.InsideTag,fe=b.children,I=0,M=fe.length;I<M;I++)D=fe[I],_+=this.writeChildNode(D,h,d+1);h.state=e.CloseTag,_+=this.indent(b,h,d)+"</"+b.name+">",R&&h.suppressPrettyCount--,_+=this.endline(b,h,d),h.state=e.None}return this.closeNode(b,h,d),_},O.prototype.writeChildNode=function(b,h,d){switch(b.type){case t.CData:return this.cdata(b,h,d);case t.Comment:return this.comment(b,h,d);case t.Element:return this.element(b,h,d);case t.Raw:return this.raw(b,h,d);case t.Text:return this.text(b,h,d);case t.ProcessingInstruction:return this.processingInstruction(b,h,d);case t.Dummy:return"";case t.Declaration:return this.declaration(b,h,d);case t.DocType:return this.docType(b,h,d);case t.AttributeDeclaration:return this.dtdAttList(b,h,d);case t.ElementDeclaration:return this.dtdElement(b,h,d);case t.EntityDeclaration:return this.dtdEntity(b,h,d);case t.NotationDeclaration:return this.dtdNotation(b,h,d);default:throw new Error("Unknown XML node type: "+b.constructor.name)}},O.prototype.processingInstruction=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d)+"<?",h.state=e.InsideTag,E+=b.target,b.value&&(E+=" "+b.value),h.state=e.CloseTag,E+=h.spaceBeforeSlash+"?>",E+=this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.raw=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d),h.state=e.InsideTag,E+=b.value,h.state=e.CloseTag,E+=this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.text=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d),h.state=e.InsideTag,E+=b.value,h.state=e.CloseTag,E+=this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.dtdAttList=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d)+"<!ATTLIST",h.state=e.InsideTag,E+=" "+b.elementName+" "+b.attributeName+" "+b.attributeType,b.defaultValueType!=="#DEFAULT"&&(E+=" "+b.defaultValueType),b.defaultValue&&(E+=' "'+b.defaultValue+'"'),h.state=e.CloseTag,E+=h.spaceBeforeSlash+">"+this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.dtdElement=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d)+"<!ELEMENT",h.state=e.InsideTag,E+=" "+b.name+" "+b.value,h.state=e.CloseTag,E+=h.spaceBeforeSlash+">"+this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.dtdEntity=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d)+"<!ENTITY",h.state=e.InsideTag,b.pe&&(E+=" %"),E+=" "+b.name,b.value?E+=' "'+b.value+'"':(b.pubID&&b.sysID?E+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.sysID&&(E+=' SYSTEM "'+b.sysID+'"'),b.nData&&(E+=" NDATA "+b.nData)),h.state=e.CloseTag,E+=h.spaceBeforeSlash+">"+this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.dtdNotation=function(b,h,d){var E;return this.openNode(b,h,d),h.state=e.OpenTag,E=this.indent(b,h,d)+"<!NOTATION",h.state=e.InsideTag,E+=" "+b.name,b.pubID&&b.sysID?E+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.pubID?E+=' PUBLIC "'+b.pubID+'"':b.sysID&&(E+=' SYSTEM "'+b.sysID+'"'),h.state=e.CloseTag,E+=h.spaceBeforeSlash+">"+this.endline(b,h,d),h.state=e.None,this.closeNode(b,h,d),E},O.prototype.openNode=function(b,h,d){},O.prototype.closeNode=function(b,h,d){},O.prototype.openAttribute=function(b,h,d){},O.prototype.closeAttribute=function(b,h,d){},O}()}).call(Gs)});var Kt=F((Js,Qs)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function a(){this.constructor=i}return a.prototype=s.prototype,i.prototype=new a,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=Dn(),Qs.exports=t=function(i){r(s,i);function s(o){s.__super__.constructor.call(this,o)}return s.prototype.document=function(o,a){var u,c,f,l,p;for(a=this.filterOptions(a),l="",p=o.children,c=0,f=p.length;c<f;c++)u=p[c],l+=this.writeChildNode(u,a,0);return a.pretty&&l.slice(-a.newline.length)===a.newline&&(l=l.slice(0,-a.newline.length)),l},s}(e)}).call(Js)});var Cn=F((Zs,eo)=>{(function(){var t,e,r,n,i,s,o,a,u=function(f,l){for(var p in l)c.call(l,p)&&(f[p]=l[p]);function g(){this.constructor=f}return g.prototype=l.prototype,f.prototype=new g,f.__super__=l.prototype,f},c={}.hasOwnProperty;a=ve().isPlainObject,r=On(),e=rs(),i=ie(),t=H(),o=Sn(),s=Kt(),eo.exports=n=function(f){u(l,f);function l(p){l.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new e,p||(p={}),p.writer||(p.writer=new s),this.options=p,this.stringify=new o(p)}return Object.defineProperty(l.prototype,"implementation",{value:new r}),Object.defineProperty(l.prototype,"doctype",{get:function(){var p,g,v,x;for(x=this.children,g=0,v=x.length;g<v;g++)if(p=x[g],p.type===t.DocType)return p;return null}}),Object.defineProperty(l.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(l.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(l.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(l.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(l.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(l.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(l.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(l.prototype,"origin",{get:function(){return null}}),Object.defineProperty(l.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(l.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(l.prototype,"contentType",{get:function(){return null}}),l.prototype.end=function(p){var g;return g={},p?a(p)&&(g=p,p=this.options.writer):p=this.options.writer,p.document(this,p.filterOptions(g))},l.prototype.toString=function(p){return this.options.writer.document(this,this.options.writer.filterOptions(p))},l.prototype.createElement=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createTextNode=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createComment=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createCDATASection=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createProcessingInstruction=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createAttribute=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createEntityReference=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.getElementsByTagName=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.importNode=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createElementNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createAttributeNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.getElementsByTagNameNS=function(p,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.getElementById=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.adoptNode=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.renameNode=function(p,g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.getElementsByClassName=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createEvent=function(p){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createNodeIterator=function(p,g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.createTreeWalker=function(p,g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},l}(i)}).call(Zs)});var no=F((to,ro)=>{(function(){var t,e,r,n,i,s,o,a,u,c,f,l,p,g,v,x,S,N,O,b,h,d,E,D,y={}.hasOwnProperty;D=ve(),d=D.isObject,h=D.isFunction,E=D.isPlainObject,b=D.getValue,t=H(),l=Cn(),g=jt(),n=kt(),i=Rt(),x=Vt(),O=Wt(),v=Ht(),c=qt(),f=zt(),s=Xt(),a=Bt(),o=Ut(),u=$t(),r=Tn(),N=Sn(),S=Kt(),e=ft(),ro.exports=p=function(){function P(T,I,A){var M;this.name="?xml",this.type=t.Document,T||(T={}),M={},T.writer?E(T.writer)&&(M=T.writer,T.writer=new S):T.writer=new S,this.options=T,this.writer=T.writer,this.writerOptions=this.writer.filterOptions(M),this.stringify=new N(T),this.onDataCallback=I||function(){},this.onEndCallback=A||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return P.prototype.createChildNode=function(T){var I,A,M,k,R,_,$,q;switch(T.type){case t.CData:this.cdata(T.value);break;case t.Comment:this.comment(T.value);break;case t.Element:M={},$=T.attribs;for(A in $)!y.call($,A)||(I=$[A],M[A]=I.value);this.node(T.name,M);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(T.value);break;case t.Text:this.text(T.value);break;case t.ProcessingInstruction:this.instruction(T.target,T.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+T.constructor.name)}for(q=T.children,R=0,_=q.length;R<_;R++)k=q[R],this.createChildNode(k),k.type===t.Element&&this.up();return this},P.prototype.dummy=function(){return this},P.prototype.node=function(T,I,A){var M;if(T==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(T));return this.openCurrent(),T=b(T),I==null&&(I={}),I=b(I),d(I)||(M=[I,A],A=M[0],I=M[1]),this.currentNode=new g(this,T,I),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,A!=null&&this.text(A),this},P.prototype.element=function(T,I,A){var M,k,R,_,$,q;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(T)||d(T)||h(T))for(_=this.options.noValidation,this.options.noValidation=!0,q=new l(this.options).element("TEMP_ROOT"),q.element(T),this.options.noValidation=_,$=q.children,k=0,R=$.length;k<R;k++)M=$[k],this.createChildNode(M),M.type===t.Element&&this.up();else this.node(T,I,A);return this},P.prototype.attribute=function(T,I){var A,M;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(T));if(T!=null&&(T=b(T)),d(T))for(A in T)!y.call(T,A)||(M=T[A],this.attribute(A,M));else h(I)&&(I=I.apply()),this.options.keepNullAttributes&&I==null?this.currentNode.attribs[T]=new r(this,T,""):I!=null&&(this.currentNode.attribs[T]=new r(this,T,I));return this},P.prototype.text=function(T){var I;return this.openCurrent(),I=new O(this,T),this.onData(this.writer.text(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.cdata=function(T){var I;return this.openCurrent(),I=new n(this,T),this.onData(this.writer.cdata(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.comment=function(T){var I;return this.openCurrent(),I=new i(this,T),this.onData(this.writer.comment(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.raw=function(T){var I;return this.openCurrent(),I=new x(this,T),this.onData(this.writer.raw(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.instruction=function(T,I){var A,M,k,R,_;if(this.openCurrent(),T!=null&&(T=b(T)),I!=null&&(I=b(I)),Array.isArray(T))for(A=0,R=T.length;A<R;A++)M=T[A],this.instruction(M);else if(d(T))for(M in T)!y.call(T,M)||(k=T[M],this.instruction(M,k));else h(I)&&(I=I.apply()),_=new v(this,T,I),this.onData(this.writer.processingInstruction(_,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},P.prototype.declaration=function(T,I,A){var M;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return M=new c(this,T,I,A),this.onData(this.writer.declaration(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.doctype=function(T,I,A){if(this.openCurrent(),T==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new f(this,I,A),this.currentNode.rootNodeName=T,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},P.prototype.dtdElement=function(T,I){var A;return this.openCurrent(),A=new o(this,T,I),this.onData(this.writer.dtdElement(A,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.attList=function(T,I,A,M,k){var R;return this.openCurrent(),R=new s(this,T,I,A,M,k),this.onData(this.writer.dtdAttList(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.entity=function(T,I){var A;return this.openCurrent(),A=new a(this,!1,T,I),this.onData(this.writer.dtdEntity(A,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.pEntity=function(T,I){var A;return this.openCurrent(),A=new a(this,!0,T,I),this.onData(this.writer.dtdEntity(A,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.notation=function(T,I){var A;return this.openCurrent(),A=new u(this,T,I),this.onData(this.writer.dtdNotation(A,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},P.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},P.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},P.prototype.openNode=function(T){var I,A,M,k;if(!T.isOpen){if(!this.root&&this.currentLevel===0&&T.type===t.Element&&(this.root=T),A="",T.type===t.Element){this.writerOptions.state=e.OpenTag,A=this.writer.indent(T,this.writerOptions,this.currentLevel)+"<"+T.name,k=T.attribs;for(M in k)!y.call(k,M)||(I=k[M],A+=this.writer.attribute(I,this.writerOptions,this.currentLevel));A+=(T.children?">":"/>")+this.writer.endline(T,this.writerOptions,this.currentLevel),this.writerOptions.state=e.InsideTag}else this.writerOptions.state=e.OpenTag,A=this.writer.indent(T,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+T.rootNodeName,T.pubID&&T.sysID?A+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.sysID&&(A+=' SYSTEM "'+T.sysID+'"'),T.children?(A+=" [",this.writerOptions.state=e.InsideTag):(this.writerOptions.state=e.CloseTag,A+=">"),A+=this.writer.endline(T,this.writerOptions,this.currentLevel);return this.onData(A,this.currentLevel),T.isOpen=!0}},P.prototype.closeNode=function(T){var I;if(!T.isClosed)return I="",this.writerOptions.state=e.CloseTag,T.type===t.Element?I=this.writer.indent(T,this.writerOptions,this.currentLevel)+"</"+T.name+">"+this.writer.endline(T,this.writerOptions,this.currentLevel):I=this.writer.indent(T,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(T,this.writerOptions,this.currentLevel),this.writerOptions.state=e.None,this.onData(I,this.currentLevel),T.isClosed=!0},P.prototype.onData=function(T,I){return this.documentStarted=!0,this.onDataCallback(T,I+1)},P.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},P.prototype.debugInfo=function(T){return T==null?"":"node: <"+T+">"},P.prototype.ele=function(){return this.element.apply(this,arguments)},P.prototype.nod=function(T,I,A){return this.node(T,I,A)},P.prototype.txt=function(T){return this.text(T)},P.prototype.dat=function(T){return this.cdata(T)},P.prototype.com=function(T){return this.comment(T)},P.prototype.ins=function(T,I){return this.instruction(T,I)},P.prototype.dec=function(T,I,A){return this.declaration(T,I,A)},P.prototype.dtd=function(T,I,A){return this.doctype(T,I,A)},P.prototype.e=function(T,I,A){return this.element(T,I,A)},P.prototype.n=function(T,I,A){return this.node(T,I,A)},P.prototype.t=function(T){return this.text(T)},P.prototype.d=function(T){return this.cdata(T)},P.prototype.c=function(T){return this.comment(T)},P.prototype.r=function(T){return this.raw(T)},P.prototype.i=function(T,I){return this.instruction(T,I)},P.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},P.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},P.prototype.ent=function(T,I){return this.entity(T,I)},P.prototype.pent=function(T,I){return this.pEntity(T,I)},P.prototype.not=function(T,I){return this.notation(T,I)},P}()}).call(to)});var oo=F((io,so)=>{(function(){var t,e,r,n,i=function(o,a){for(var u in a)s.call(a,u)&&(o[u]=a[u]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},s={}.hasOwnProperty;t=H(),n=Dn(),e=ft(),so.exports=r=function(o){i(a,o);function a(u,c){this.stream=u,a.__super__.constructor.call(this,c)}return a.prototype.endline=function(u,c,f){return u.isLastRootNode&&c.state===e.CloseTag?"":a.__super__.endline.call(this,u,c,f)},a.prototype.document=function(u,c){var f,l,p,g,v,x,S,N,O;for(S=u.children,l=p=0,v=S.length;p<v;l=++p)f=S[l],f.isLastRootNode=l===u.children.length-1;for(c=this.filterOptions(c),N=u.children,O=[],g=0,x=N.length;g<x;g++)f=N[g],O.push(this.writeChildNode(f,c,0));return O},a.prototype.attribute=function(u,c,f){return this.stream.write(a.__super__.attribute.call(this,u,c,f))},a.prototype.cdata=function(u,c,f){return this.stream.write(a.__super__.cdata.call(this,u,c,f))},a.prototype.comment=function(u,c,f){return this.stream.write(a.__super__.comment.call(this,u,c,f))},a.prototype.declaration=function(u,c,f){return this.stream.write(a.__super__.declaration.call(this,u,c,f))},a.prototype.docType=function(u,c,f){var l,p,g,v;if(f||(f=0),this.openNode(u,c,f),c.state=e.OpenTag,this.stream.write(this.indent(u,c,f)),this.stream.write("<!DOCTYPE "+u.root().name),u.pubID&&u.sysID?this.stream.write(' PUBLIC "'+u.pubID+'" "'+u.sysID+'"'):u.sysID&&this.stream.write(' SYSTEM "'+u.sysID+'"'),u.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(u,c,f)),c.state=e.InsideTag,v=u.children,p=0,g=v.length;p<g;p++)l=v[p],this.writeChildNode(l,c,f+1);c.state=e.CloseTag,this.stream.write("]")}return c.state=e.CloseTag,this.stream.write(c.spaceBeforeSlash+">"),this.stream.write(this.endline(u,c,f)),c.state=e.None,this.closeNode(u,c,f)},a.prototype.element=function(u,c,f){var l,p,g,v,x,S,N,O,b,h;f||(f=0),this.openNode(u,c,f),c.state=e.OpenTag,this.stream.write(this.indent(u,c,f)+"<"+u.name),b=u.attribs;for(N in b)!s.call(b,N)||(l=b[N],this.attribute(l,c,f));if(g=u.children.length,v=g===0?null:u.children[0],g===0||u.children.every(function(d){return(d.type===t.Text||d.type===t.Raw)&&d.value===""}))c.allowEmpty?(this.stream.write(">"),c.state=e.CloseTag,this.stream.write("</"+u.name+">")):(c.state=e.CloseTag,this.stream.write(c.spaceBeforeSlash+"/>"));else if(c.pretty&&g===1&&(v.type===t.Text||v.type===t.Raw)&&v.value!=null)this.stream.write(">"),c.state=e.InsideTag,c.suppressPrettyCount++,O=!0,this.writeChildNode(v,c,f+1),c.suppressPrettyCount--,O=!1,c.state=e.CloseTag,this.stream.write("</"+u.name+">");else{for(this.stream.write(">"+this.endline(u,c,f)),c.state=e.InsideTag,h=u.children,x=0,S=h.length;x<S;x++)p=h[x],this.writeChildNode(p,c,f+1);c.state=e.CloseTag,this.stream.write(this.indent(u,c,f)+"</"+u.name+">")}return this.stream.write(this.endline(u,c,f)),c.state=e.None,this.closeNode(u,c,f)},a.prototype.processingInstruction=function(u,c,f){return this.stream.write(a.__super__.processingInstruction.call(this,u,c,f))},a.prototype.raw=function(u,c,f){return this.stream.write(a.__super__.raw.call(this,u,c,f))},a.prototype.text=function(u,c,f){return this.stream.write(a.__super__.text.call(this,u,c,f))},a.prototype.dtdAttList=function(u,c,f){return this.stream.write(a.__super__.dtdAttList.call(this,u,c,f))},a.prototype.dtdElement=function(u,c,f){return this.stream.write(a.__super__.dtdElement.call(this,u,c,f))},a.prototype.dtdEntity=function(u,c,f){return this.stream.write(a.__super__.dtdEntity.call(this,u,c,f))},a.prototype.dtdNotation=function(u,c,f){return this.stream.write(a.__super__.dtdNotation.call(this,u,c,f))},a}(n)}).call(io)});var uo=F((ao,_e)=>{(function(){var t,e,r,n,i,s,o,a,u,c;c=ve(),a=c.assign,u=c.isFunction,r=On(),n=Cn(),i=no(),o=Kt(),s=oo(),t=H(),e=ft(),_e.exports.create=function(f,l,p,g){var v,x;if(f==null)throw new Error("Root element needs a name.");return g=a({},l,p,g),v=new n(g),x=v.element(f),g.headless||(v.declaration(g),(g.pubID!=null||g.sysID!=null)&&v.dtd(g)),x},_e.exports.begin=function(f,l,p){var g;return u(f)&&(g=[f,l],l=g[0],p=g[1],f={}),l?new i(f,l,p):new n(f)},_e.exports.stringWriter=function(f){return new o(f)},_e.exports.streamWriter=function(f,l){return new s(f,l)},_e.exports.implementation=new r,_e.exports.nodeType=t,_e.exports.writerState=e}).call(ao)});var co=F(Pn=>{(function(){"use strict";var t,e,r,n,i,s={}.hasOwnProperty;t=uo(),e=Mt().defaults,n=function(o){return typeof o=="string"&&(o.indexOf("&")>=0||o.indexOf(">")>=0||o.indexOf("<")>=0)},i=function(o){return"<![CDATA["+r(o)+"]]>"},r=function(o){return o.replace("]]>","]]]]><![CDATA[>")},Pn.Builder=function(){function o(a){var u,c,f;this.options={},c=e["0.2"];for(u in c)!s.call(c,u)||(f=c[u],this.options[u]=f);for(u in a)!s.call(a,u)||(f=a[u],this.options[u]=f)}return o.prototype.buildObject=function(a){var u,c,f,l,p;return u=this.options.attrkey,c=this.options.charkey,Object.keys(a).length===1&&this.options.rootName===e["0.2"].rootName?(p=Object.keys(a)[0],a=a[p]):p=this.options.rootName,f=function(g){return function(v,x){var S,N,O,b,h,d;if(typeof x!="object")g.options.cdata&&n(x)?v.raw(i(x)):v.txt(x);else if(Array.isArray(x)){for(b in x)if(!!s.call(x,b)){N=x[b];for(h in N)O=N[h],v=f(v.ele(h),O).up()}}else for(h in x)if(!!s.call(x,h))if(N=x[h],h===u){if(typeof N=="object")for(S in N)d=N[S],v=v.att(S,d)}else if(h===c)g.options.cdata&&n(N)?v=v.raw(i(N)):v=v.txt(N);else if(Array.isArray(N))for(b in N)!s.call(N,b)||(O=N[b],typeof O=="string"?g.options.cdata&&n(O)?v=v.ele(h).raw(i(O)).up():v=v.ele(h,O).up():v=f(v.ele(h),O).up());else typeof N=="object"?v=f(v.ele(h),N).up():typeof N=="string"&&g.options.cdata&&n(N)?v=v.ele(h).raw(i(N)).up():(N==null&&(N=""),v=v.ele(h,N.toString()).up());return v}}(this),l=t.create(p,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),f(l,a).end(this.options.renderOpts)},o}()}).call(Pn)});var lo=F(Gt=>{(function(t){t.parser=function(w,m){return new r(w,m)},t.SAXParser=r,t.SAXStream=c,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(w,m){if(!(this instanceof r))return new r(w,m);var L=this;i(L),L.q=L.c="",L.bufferCheckPosition=t.MAX_BUFFER_LENGTH,L.opt=m||{},L.opt.lowercase=L.opt.lowercase||L.opt.lowercasetags,L.looseCase=L.opt.lowercase?"toLowerCase":"toUpperCase",L.tags=[],L.closed=L.closedRoot=L.sawRoot=!1,L.tag=L.error=null,L.strict=!!w,L.noscript=!!(w||L.opt.noscript),L.state=y.BEGIN,L.strictEntities=L.opt.strictEntities,L.ENTITIES=L.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),L.attribList=[],L.opt.xmlns&&(L.ns=Object.create(v)),L.trackPosition=L.opt.position!==!1,L.trackPosition&&(L.position=L.line=L.column=0),T(L,"onready")}Object.create||(Object.create=function(w){function m(){}m.prototype=w;var L=new m;return L}),Object.keys||(Object.keys=function(w){var m=[];for(var L in w)w.hasOwnProperty(L)&&m.push(L);return m});function n(w){for(var m=Math.max(t.MAX_BUFFER_LENGTH,10),L=0,C=0,U=e.length;C<U;C++){var z=w[e[C]].length;if(z>m)switch(e[C]){case"textNode":A(w);break;case"cdata":I(w,"oncdata",w.cdata),w.cdata="";break;case"script":I(w,"onscript",w.script),w.script="";break;default:k(w,"Max buffer length exceeded: "+e[C])}L=Math.max(L,z)}var W=t.MAX_BUFFER_LENGTH-L;w.bufferCheckPosition=W+w.position}function i(w){for(var m=0,L=e.length;m<L;m++)w[e[m]]=""}function s(w){A(w),w.cdata!==""&&(I(w,"oncdata",w.cdata),w.cdata=""),w.script!==""&&(I(w,"onscript",w.script),w.script="")}r.prototype={end:function(){R(this)},write:At,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=require("stream").Stream}catch(w){o=function(){}}o||(o=function(){});var a=t.EVENTS.filter(function(w){return w!=="error"&&w!=="end"});function u(w,m){return new c(w,m)}function c(w,m){if(!(this instanceof c))return new c(w,m);o.apply(this),this._parser=new r(w,m),this.writable=!0,this.readable=!0;var L=this;this._parser.onend=function(){L.emit("end")},this._parser.onerror=function(C){L.emit("error",C),L._parser.error=null},this._decoder=null,a.forEach(function(C){Object.defineProperty(L,"on"+C,{get:function(){return L._parser["on"+C]},set:function(U){if(!U)return L.removeAllListeners(C),L._parser["on"+C]=U,U;L.on(C,U)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(w){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(w)){if(!this._decoder){var m=require("string_decoder").StringDecoder;this._decoder=new m("utf8")}w=this._decoder.write(w)}return this._parser.write(w.toString()),this.emit("data",w),!0},c.prototype.end=function(w){return w&&w.length&&this.write(w),this._parser.end(),!0},c.prototype.on=function(w,m){var L=this;return!L._parser["on"+w]&&a.indexOf(w)!==-1&&(L._parser["on"+w]=function(){var C=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);C.splice(0,0,w),L.emit.apply(L,C)}),o.prototype.on.call(L,w,m)};var f="[CDATA[",l="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",v={xml:p,xmlns:g},x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function b(w){return w===" "||w===`
`||w==="\r"||w==="	"}function h(w){return w==='"'||w==="'"}function d(w){return w===">"||b(w)}function E(w,m){return w.test(m)}function D(w,m){return!E(w,m)}var y=0;t.STATE={BEGIN:y++,BEGIN_WHITESPACE:y++,TEXT:y++,TEXT_ENTITY:y++,OPEN_WAKA:y++,SGML_DECL:y++,SGML_DECL_QUOTED:y++,DOCTYPE:y++,DOCTYPE_QUOTED:y++,DOCTYPE_DTD:y++,DOCTYPE_DTD_QUOTED:y++,COMMENT_STARTING:y++,COMMENT:y++,COMMENT_ENDING:y++,COMMENT_ENDED:y++,CDATA:y++,CDATA_ENDING:y++,CDATA_ENDING_2:y++,PROC_INST:y++,PROC_INST_BODY:y++,PROC_INST_ENDING:y++,OPEN_TAG:y++,OPEN_TAG_SLASH:y++,ATTRIB:y++,ATTRIB_NAME:y++,ATTRIB_NAME_SAW_WHITE:y++,ATTRIB_VALUE:y++,ATTRIB_VALUE_QUOTED:y++,ATTRIB_VALUE_CLOSED:y++,ATTRIB_VALUE_UNQUOTED:y++,ATTRIB_VALUE_ENTITY_Q:y++,ATTRIB_VALUE_ENTITY_U:y++,CLOSE_TAG:y++,CLOSE_TAG_SAW_WHITE:y++,SCRIPT:y++,SCRIPT_ENDING:y++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(w){var m=t.ENTITIES[w],L=typeof m=="number"?String.fromCharCode(m):m;t.ENTITIES[w]=L});for(var P in t.STATE)t.STATE[t.STATE[P]]=P;y=t.STATE;function T(w,m,L){w[m]&&w[m](L)}function I(w,m,L){w.textNode&&A(w),T(w,m,L)}function A(w){w.textNode=M(w.opt,w.textNode),w.textNode&&T(w,"ontext",w.textNode),w.textNode=""}function M(w,m){return w.trim&&(m=m.trim()),w.normalize&&(m=m.replace(/\s+/g," ")),m}function k(w,m){return A(w),w.trackPosition&&(m+=`
Line: `+w.line+`
Column: `+w.column+`
Char: `+w.c),m=new Error(m),w.error=m,T(w,"onerror",m),w}function R(w){return w.sawRoot&&!w.closedRoot&&_(w,"Unclosed root tag"),w.state!==y.BEGIN&&w.state!==y.BEGIN_WHITESPACE&&w.state!==y.TEXT&&k(w,"Unexpected end"),A(w),w.c="",w.closed=!0,T(w,"onend"),r.call(w,w.strict,w.opt),w}function _(w,m){if(typeof w!="object"||!(w instanceof r))throw new Error("bad call to strictFail");w.strict&&k(w,m)}function $(w){w.strict||(w.tagName=w.tagName[w.looseCase]());var m=w.tags[w.tags.length-1]||w,L=w.tag={name:w.tagName,attributes:{}};w.opt.xmlns&&(L.ns=m.ns),w.attribList.length=0,I(w,"onopentagstart",L)}function q(w,m){var L=w.indexOf(":"),C=L<0?["",w]:w.split(":"),U=C[0],z=C[1];return m&&w==="xmlns"&&(U="xmlns",z=""),{prefix:U,local:z}}function fe(w){if(w.strict||(w.attribName=w.attribName[w.looseCase]()),w.attribList.indexOf(w.attribName)!==-1||w.tag.attributes.hasOwnProperty(w.attribName)){w.attribName=w.attribValue="";return}if(w.opt.xmlns){var m=q(w.attribName,!0),L=m.prefix,C=m.local;if(L==="xmlns")if(C==="xml"&&w.attribValue!==p)_(w,"xml: prefix must be bound to "+p+`
Actual: `+w.attribValue);else if(C==="xmlns"&&w.attribValue!==g)_(w,"xmlns: prefix must be bound to "+g+`
Actual: `+w.attribValue);else{var U=w.tag,z=w.tags[w.tags.length-1]||w;U.ns===z.ns&&(U.ns=Object.create(z.ns)),U.ns[C]=w.attribValue}w.attribList.push([w.attribName,w.attribValue])}else w.tag.attributes[w.attribName]=w.attribValue,I(w,"onattribute",{name:w.attribName,value:w.attribValue});w.attribName=w.attribValue=""}function ne(w,m){if(w.opt.xmlns){var L=w.tag,C=q(w.tagName);L.prefix=C.prefix,L.local=C.local,L.uri=L.ns[C.prefix]||"",L.prefix&&!L.uri&&(_(w,"Unbound namespace prefix: "+JSON.stringify(w.tagName)),L.uri=C.prefix);var U=w.tags[w.tags.length-1]||w;L.ns&&U.ns!==L.ns&&Object.keys(L.ns).forEach(function($i){I(w,"onopennamespace",{prefix:$i,uri:L.ns[$i]})});for(var z=0,W=w.attribList.length;z<W;z++){var G=w.attribList[z],ee=G[0],He=G[1],Y=q(ee,!0),De=Y.prefix,Al=Y.local,Ui=De===""?"":L.ns[De]||"",wn={name:ee,value:He,prefix:De,local:Al,uri:Ui};De&&De!=="xmlns"&&!Ui&&(_(w,"Unbound namespace prefix: "+JSON.stringify(De)),wn.uri=De),w.tag.attributes[ee]=wn,I(w,"onattribute",wn)}w.attribList.length=0}w.tag.isSelfClosing=!!m,w.sawRoot=!0,w.tags.push(w.tag),I(w,"onopentag",w.tag),m||(!w.noscript&&w.tagName.toLowerCase()==="script"?w.state=y.SCRIPT:w.state=y.TEXT,w.tag=null,w.tagName=""),w.attribName=w.attribValue="",w.attribList.length=0}function Se(w){if(!w.tagName){_(w,"Weird empty close tag."),w.textNode+="</>",w.state=y.TEXT;return}if(w.script){if(w.tagName!=="script"){w.script+="</"+w.tagName+">",w.tagName="",w.state=y.SCRIPT;return}I(w,"onscript",w.script),w.script=""}var m=w.tags.length,L=w.tagName;w.strict||(L=L[w.looseCase]());for(var C=L;m--;){var U=w.tags[m];if(U.name!==C)_(w,"Unexpected close tag");else break}if(m<0){_(w,"Unmatched closing tag: "+w.tagName),w.textNode+="</"+w.tagName+">",w.state=y.TEXT;return}w.tagName=L;for(var z=w.tags.length;z-- >m;){var W=w.tag=w.tags.pop();w.tagName=w.tag.name,I(w,"onclosetag",w.tagName);var G={};for(var ee in W.ns)G[ee]=W.ns[ee];var He=w.tags[w.tags.length-1]||w;w.opt.xmlns&&W.ns!==He.ns&&Object.keys(W.ns).forEach(function(Y){var De=W.ns[Y];I(w,"onclosenamespace",{prefix:Y,uri:De})})}m===0&&(w.closedRoot=!0),w.tagName=w.attribValue=w.attribName="",w.attribList.length=0,w.state=y.TEXT}function It(w){var m=w.entity,L=m.toLowerCase(),C,U="";return w.ENTITIES[m]?w.ENTITIES[m]:w.ENTITIES[L]?w.ENTITIES[L]:(m=L,m.charAt(0)==="#"&&(m.charAt(1)==="x"?(m=m.slice(2),C=parseInt(m,16),U=C.toString(16)):(m=m.slice(1),C=parseInt(m,10),U=C.toString(10))),m=m.replace(/^0+/,""),isNaN(C)||U.toLowerCase()!==m?(_(w,"Invalid character entity"),"&"+w.entity+";"):String.fromCodePoint(C))}function Lt(w,m){m==="<"?(w.state=y.OPEN_WAKA,w.startTagPosition=w.position):b(m)||(_(w,"Non-whitespace before first tag."),w.textNode=m,w.state=y.TEXT)}function Fe(w,m){var L="";return m<w.length&&(L=w.charAt(m)),L}function At(w){var m=this;if(this.error)throw this.error;if(m.closed)return k(m,"Cannot write after close. Assign an onready handler.");if(w===null)return R(m);typeof w=="object"&&(w=w.toString());for(var L=0,C="";C=Fe(w,L++),m.c=C,!!C;)switch(m.trackPosition&&(m.position++,C===`
`?(m.line++,m.column=0):m.column++),m.state){case y.BEGIN:if(m.state=y.BEGIN_WHITESPACE,C==="\uFEFF")continue;Lt(m,C);continue;case y.BEGIN_WHITESPACE:Lt(m,C);continue;case y.TEXT:if(m.sawRoot&&!m.closedRoot){for(var U=L-1;C&&C!=="<"&&C!=="&";)C=Fe(w,L++),C&&m.trackPosition&&(m.position++,C===`
`?(m.line++,m.column=0):m.column++);m.textNode+=w.substring(U,L-1)}C==="<"&&!(m.sawRoot&&m.closedRoot&&!m.strict)?(m.state=y.OPEN_WAKA,m.startTagPosition=m.position):(!b(C)&&(!m.sawRoot||m.closedRoot)&&_(m,"Text data outside of root node."),C==="&"?m.state=y.TEXT_ENTITY:m.textNode+=C);continue;case y.SCRIPT:C==="<"?m.state=y.SCRIPT_ENDING:m.script+=C;continue;case y.SCRIPT_ENDING:C==="/"?m.state=y.CLOSE_TAG:(m.script+="<"+C,m.state=y.SCRIPT);continue;case y.OPEN_WAKA:if(C==="!")m.state=y.SGML_DECL,m.sgmlDecl="";else if(!b(C))if(E(x,C))m.state=y.OPEN_TAG,m.tagName=C;else if(C==="/")m.state=y.CLOSE_TAG,m.tagName="";else if(C==="?")m.state=y.PROC_INST,m.procInstName=m.procInstBody="";else{if(_(m,"Unencoded <"),m.startTagPosition+1<m.position){var z=m.position-m.startTagPosition;C=new Array(z).join(" ")+C}m.textNode+="<"+C,m.state=y.TEXT}continue;case y.SGML_DECL:(m.sgmlDecl+C).toUpperCase()===f?(I(m,"onopencdata"),m.state=y.CDATA,m.sgmlDecl="",m.cdata=""):m.sgmlDecl+C==="--"?(m.state=y.COMMENT,m.comment="",m.sgmlDecl=""):(m.sgmlDecl+C).toUpperCase()===l?(m.state=y.DOCTYPE,(m.doctype||m.sawRoot)&&_(m,"Inappropriately located doctype declaration"),m.doctype="",m.sgmlDecl=""):C===">"?(I(m,"onsgmldeclaration",m.sgmlDecl),m.sgmlDecl="",m.state=y.TEXT):(h(C)&&(m.state=y.SGML_DECL_QUOTED),m.sgmlDecl+=C);continue;case y.SGML_DECL_QUOTED:C===m.q&&(m.state=y.SGML_DECL,m.q=""),m.sgmlDecl+=C;continue;case y.DOCTYPE:C===">"?(m.state=y.TEXT,I(m,"ondoctype",m.doctype),m.doctype=!0):(m.doctype+=C,C==="["?m.state=y.DOCTYPE_DTD:h(C)&&(m.state=y.DOCTYPE_QUOTED,m.q=C));continue;case y.DOCTYPE_QUOTED:m.doctype+=C,C===m.q&&(m.q="",m.state=y.DOCTYPE);continue;case y.DOCTYPE_DTD:m.doctype+=C,C==="]"?m.state=y.DOCTYPE:h(C)&&(m.state=y.DOCTYPE_DTD_QUOTED,m.q=C);continue;case y.DOCTYPE_DTD_QUOTED:m.doctype+=C,C===m.q&&(m.state=y.DOCTYPE_DTD,m.q="");continue;case y.COMMENT:C==="-"?m.state=y.COMMENT_ENDING:m.comment+=C;continue;case y.COMMENT_ENDING:C==="-"?(m.state=y.COMMENT_ENDED,m.comment=M(m.opt,m.comment),m.comment&&I(m,"oncomment",m.comment),m.comment=""):(m.comment+="-"+C,m.state=y.COMMENT);continue;case y.COMMENT_ENDED:C!==">"?(_(m,"Malformed comment"),m.comment+="--"+C,m.state=y.COMMENT):m.state=y.TEXT;continue;case y.CDATA:C==="]"?m.state=y.CDATA_ENDING:m.cdata+=C;continue;case y.CDATA_ENDING:C==="]"?m.state=y.CDATA_ENDING_2:(m.cdata+="]"+C,m.state=y.CDATA);continue;case y.CDATA_ENDING_2:C===">"?(m.cdata&&I(m,"oncdata",m.cdata),I(m,"onclosecdata"),m.cdata="",m.state=y.TEXT):C==="]"?m.cdata+="]":(m.cdata+="]]"+C,m.state=y.CDATA);continue;case y.PROC_INST:C==="?"?m.state=y.PROC_INST_ENDING:b(C)?m.state=y.PROC_INST_BODY:m.procInstName+=C;continue;case y.PROC_INST_BODY:if(!m.procInstBody&&b(C))continue;C==="?"?m.state=y.PROC_INST_ENDING:m.procInstBody+=C;continue;case y.PROC_INST_ENDING:C===">"?(I(m,"onprocessinginstruction",{name:m.procInstName,body:m.procInstBody}),m.procInstName=m.procInstBody="",m.state=y.TEXT):(m.procInstBody+="?"+C,m.state=y.PROC_INST_BODY);continue;case y.OPEN_TAG:E(S,C)?m.tagName+=C:($(m),C===">"?ne(m):C==="/"?m.state=y.OPEN_TAG_SLASH:(b(C)||_(m,"Invalid character in tag name"),m.state=y.ATTRIB));continue;case y.OPEN_TAG_SLASH:C===">"?(ne(m,!0),Se(m)):(_(m,"Forward-slash in opening tag not followed by >"),m.state=y.ATTRIB);continue;case y.ATTRIB:if(b(C))continue;C===">"?ne(m):C==="/"?m.state=y.OPEN_TAG_SLASH:E(x,C)?(m.attribName=C,m.attribValue="",m.state=y.ATTRIB_NAME):_(m,"Invalid attribute name");continue;case y.ATTRIB_NAME:C==="="?m.state=y.ATTRIB_VALUE:C===">"?(_(m,"Attribute without value"),m.attribValue=m.attribName,fe(m),ne(m)):b(C)?m.state=y.ATTRIB_NAME_SAW_WHITE:E(S,C)?m.attribName+=C:_(m,"Invalid attribute name");continue;case y.ATTRIB_NAME_SAW_WHITE:if(C==="=")m.state=y.ATTRIB_VALUE;else{if(b(C))continue;_(m,"Attribute without value"),m.tag.attributes[m.attribName]="",m.attribValue="",I(m,"onattribute",{name:m.attribName,value:""}),m.attribName="",C===">"?ne(m):E(x,C)?(m.attribName=C,m.state=y.ATTRIB_NAME):(_(m,"Invalid attribute name"),m.state=y.ATTRIB)}continue;case y.ATTRIB_VALUE:if(b(C))continue;h(C)?(m.q=C,m.state=y.ATTRIB_VALUE_QUOTED):(_(m,"Unquoted attribute value"),m.state=y.ATTRIB_VALUE_UNQUOTED,m.attribValue=C);continue;case y.ATTRIB_VALUE_QUOTED:if(C!==m.q){C==="&"?m.state=y.ATTRIB_VALUE_ENTITY_Q:m.attribValue+=C;continue}fe(m),m.q="",m.state=y.ATTRIB_VALUE_CLOSED;continue;case y.ATTRIB_VALUE_CLOSED:b(C)?m.state=y.ATTRIB:C===">"?ne(m):C==="/"?m.state=y.OPEN_TAG_SLASH:E(x,C)?(_(m,"No whitespace between attributes"),m.attribName=C,m.attribValue="",m.state=y.ATTRIB_NAME):_(m,"Invalid attribute name");continue;case y.ATTRIB_VALUE_UNQUOTED:if(!d(C)){C==="&"?m.state=y.ATTRIB_VALUE_ENTITY_U:m.attribValue+=C;continue}fe(m),C===">"?ne(m):m.state=y.ATTRIB;continue;case y.CLOSE_TAG:if(m.tagName)C===">"?Se(m):E(S,C)?m.tagName+=C:m.script?(m.script+="</"+m.tagName,m.tagName="",m.state=y.SCRIPT):(b(C)||_(m,"Invalid tagname in closing tag"),m.state=y.CLOSE_TAG_SAW_WHITE);else{if(b(C))continue;D(x,C)?m.script?(m.script+="</"+C,m.state=y.SCRIPT):_(m,"Invalid tagname in closing tag."):m.tagName=C}continue;case y.CLOSE_TAG_SAW_WHITE:if(b(C))continue;C===">"?Se(m):_(m,"Invalid characters in closing tag");continue;case y.TEXT_ENTITY:case y.ATTRIB_VALUE_ENTITY_Q:case y.ATTRIB_VALUE_ENTITY_U:var W,G;switch(m.state){case y.TEXT_ENTITY:W=y.TEXT,G="textNode";break;case y.ATTRIB_VALUE_ENTITY_Q:W=y.ATTRIB_VALUE_QUOTED,G="attribValue";break;case y.ATTRIB_VALUE_ENTITY_U:W=y.ATTRIB_VALUE_UNQUOTED,G="attribValue";break}if(C===";")if(m.opt.unparsedEntities){var ee=It(m);m.entity="",m.state=W,m.write(ee)}else m[G]+=It(m),m.entity="",m.state=W;else E(m.entity.length?O:N,C)?m.entity+=C:(_(m,"Invalid character in entity name"),m[G]+="&"+m.entity+C,m.entity="",m.state=W);continue;default:throw new Error(m,"Unknown state: "+m.state)}return m.position>=m.bufferCheckPosition&&n(m),m}String.fromCodePoint||function(){var w=String.fromCharCode,m=Math.floor,L=function(){var C=16384,U=[],z,W,G=-1,ee=arguments.length;if(!ee)return"";for(var He="";++G<ee;){var Y=Number(arguments[G]);if(!isFinite(Y)||Y<0||Y>1114111||m(Y)!==Y)throw RangeError("Invalid code point: "+Y);Y<=65535?U.push(Y):(Y-=65536,z=(Y>>10)+55296,W=Y%1024+56320,U.push(z,W)),(G+1===ee||U.length>C)&&(He+=w.apply(null,U),U.length=0)}return He};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L}()})(typeof Gt=="undefined"?Gt.sax={}:Gt)});var fo=F(In=>{(function(){"use strict";In.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}).call(In)});var Ln=F(Ue=>{(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),Ue.normalize=function(e){return e.toLowerCase()},Ue.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},Ue.stripPrefix=function(e){return e.replace(t,"")},Ue.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},Ue.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e=e.toLowerCase()==="true"),e}}).call(Ue)});var ho=F(Ce=>{(function(){"use strict";var t,e,r,n,i,s,o,a,u,c=function(p,g){return function(){return p.apply(g,arguments)}},f=function(p,g){for(var v in g)l.call(g,v)&&(p[v]=g[v]);function x(){this.constructor=p}return x.prototype=g.prototype,p.prototype=new x,p.__super__=g.prototype,p},l={}.hasOwnProperty;a=lo(),n=require("events"),t=fo(),o=Ln(),u=require("timers").setImmediate,e=Mt().defaults,i=function(p){return typeof p=="object"&&p!=null&&Object.keys(p).length===0},s=function(p,g,v){var x,S,N;for(x=0,S=p.length;x<S;x++)N=p[x],g=N(g,v);return g},r=function(p,g,v){var x;return x=Object.create(null),x.value=v,x.writable=!0,x.enumerable=!0,x.configurable=!0,Object.defineProperty(p,g,x)},Ce.Parser=function(p){f(g,p);function g(v){this.parseStringPromise=c(this.parseStringPromise,this),this.parseString=c(this.parseString,this),this.reset=c(this.reset,this),this.assignOrPush=c(this.assignOrPush,this),this.processAsync=c(this.processAsync,this);var x,S,N;if(!(this instanceof Ce.Parser))return new Ce.Parser(v);this.options={},S=e["0.2"];for(x in S)!l.call(S,x)||(N=S[x],this.options[x]=N);for(x in v)!l.call(v,x)||(N=v[x],this.options[x]=N);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(o.normalize)),this.reset()}return g.prototype.processAsync=function(){var v,x;try{return this.remaining.length<=this.options.chunkSize?(v=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(v),this.saxParser.close()):(v=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(v),u(this.processAsync))}catch(S){if(x=S,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(x)}},g.prototype.assignOrPush=function(v,x,S){return x in v?(v[x]instanceof Array||r(v,x,[v[x]]),v[x].push(S)):this.options.explicitArray?r(v,x,[S]):r(v,x,S)},g.prototype.reset=function(){var v,x,S,N;return this.removeAllListeners(),this.saxParser=a.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(O){return function(b){if(O.saxParser.resume(),!O.saxParser.errThrown)return O.saxParser.errThrown=!0,O.emit("error",b)}}(this),this.saxParser.onend=function(O){return function(){if(!O.saxParser.ended)return O.saxParser.ended=!0,O.emit("end",O.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,N=[],v=this.options.attrkey,x=this.options.charkey,this.saxParser.onopentag=function(O){return function(b){var h,d,E,D,y;if(E={},E[x]="",!O.options.ignoreAttrs){y=b.attributes;for(h in y)!l.call(y,h)||(!(v in E)&&!O.options.mergeAttrs&&(E[v]={}),d=O.options.attrValueProcessors?s(O.options.attrValueProcessors,b.attributes[h],h):b.attributes[h],D=O.options.attrNameProcessors?s(O.options.attrNameProcessors,h):h,O.options.mergeAttrs?O.assignOrPush(E,D,d):r(E[v],D,d))}return E["#name"]=O.options.tagNameProcessors?s(O.options.tagNameProcessors,b.name):b.name,O.options.xmlns&&(E[O.options.xmlnskey]={uri:b.uri,local:b.local}),N.push(E)}}(this),this.saxParser.onclosetag=function(O){return function(){var b,h,d,E,D,y,P,T,I,A;if(y=N.pop(),D=y["#name"],(!O.options.explicitChildren||!O.options.preserveChildrenOrder)&&delete y["#name"],y.cdata===!0&&(b=y.cdata,delete y.cdata),I=N[N.length-1],y[x].match(/^\s*$/)&&!b?(h=y[x],delete y[x]):(O.options.trim&&(y[x]=y[x].trim()),O.options.normalize&&(y[x]=y[x].replace(/\s{2,}/g," ").trim()),y[x]=O.options.valueProcessors?s(O.options.valueProcessors,y[x],D):y[x],Object.keys(y).length===1&&x in y&&!O.EXPLICIT_CHARKEY&&(y=y[x])),i(y)&&(typeof O.options.emptyTag=="function"?y=O.options.emptyTag():y=O.options.emptyTag!==""?O.options.emptyTag:h),O.options.validator!=null&&(A="/"+function(){var M,k,R;for(R=[],M=0,k=N.length;M<k;M++)E=N[M],R.push(E["#name"]);return R}().concat(D).join("/"),function(){var M;try{return y=O.options.validator(A,I&&I[D],y)}catch(k){return M=k,O.emit("error",M)}}()),O.options.explicitChildren&&!O.options.mergeAttrs&&typeof y=="object"){if(!O.options.preserveChildrenOrder)E={},O.options.attrkey in y&&(E[O.options.attrkey]=y[O.options.attrkey],delete y[O.options.attrkey]),!O.options.charsAsChildren&&O.options.charkey in y&&(E[O.options.charkey]=y[O.options.charkey],delete y[O.options.charkey]),Object.getOwnPropertyNames(y).length>0&&(E[O.options.childkey]=y),y=E;else if(I){I[O.options.childkey]=I[O.options.childkey]||[],P={};for(d in y)!l.call(y,d)||r(P,d,y[d]);I[O.options.childkey].push(P),delete y["#name"],Object.keys(y).length===1&&x in y&&!O.EXPLICIT_CHARKEY&&(y=y[x])}}return N.length>0?O.assignOrPush(I,D,y):(O.options.explicitRoot&&(T=y,y={},r(y,D,T)),O.resultObject=y,O.saxParser.ended=!0,O.emit("end",O.resultObject))}}(this),S=function(O){return function(b){var h,d;if(d=N[N.length-1],d)return d[x]+=b,O.options.explicitChildren&&O.options.preserveChildrenOrder&&O.options.charsAsChildren&&(O.options.includeWhiteChars||b.replace(/\\n/g,"").trim()!=="")&&(d[O.options.childkey]=d[O.options.childkey]||[],h={"#name":"__text__"},h[x]=b,O.options.normalize&&(h[x]=h[x].replace(/\s{2,}/g," ").trim()),d[O.options.childkey].push(h)),d}}(this),this.saxParser.ontext=S,this.saxParser.oncdata=function(O){return function(b){var h;if(h=S(b),h)return h.cdata=!0}}(this)},g.prototype.parseString=function(v,x){var S;x!=null&&typeof x=="function"&&(this.on("end",function(N){return this.reset(),x(null,N)}),this.on("error",function(N){return this.reset(),x(N)}));try{return v=v.toString(),v.trim()===""?(this.emit("end",null),!0):(v=t.stripBOM(v),this.options.async?(this.remaining=v,u(this.processAsync),this.saxParser):this.saxParser.write(v).close())}catch(N){if(S=N,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw S}else return this.emit("error",S),this.saxParser.errThrown=!0}},g.prototype.parseStringPromise=function(v){return new Promise(function(x){return function(S,N){return x.parseString(v,function(O,b){return O?N(O):S(b)})}}(this))},g}(n),Ce.parseString=function(p,g,v){var x,S,N;return v!=null?(typeof v=="function"&&(x=v),typeof g=="object"&&(S=g)):(typeof g=="function"&&(x=g),S={}),N=new Ce.Parser(S),N.parseString(p,x)},Ce.parseStringPromise=function(p,g){var v,x;return typeof g=="object"&&(v=g),x=new Ce.Parser(v),x.parseStringPromise(p)}}).call(Ce)});var po=F(Pe=>{(function(){"use strict";var t,e,r,n,i=function(o,a){for(var u in a)s.call(a,u)&&(o[u]=a[u]);function c(){this.constructor=o}return c.prototype=a.prototype,o.prototype=new c,o.__super__=a.prototype,o},s={}.hasOwnProperty;e=Mt(),t=co(),r=ho(),n=Ln(),Pe.defaults=e.defaults,Pe.processors=n,Pe.ValidationError=function(o){i(a,o);function a(u){this.message=u}return a}(Error),Pe.Builder=t.Builder,Pe.Parser=r.Parser,Pe.parseString=r.parseString,Pe.parseStringPromise=r.parseStringPromise}).call(Pe)});var mo=F((Pd,go)=>{var Ke=1e3,Ge=Ke*60,Ye=Ge*60,$e=Ye*24,ql=$e*7,Xl=$e*365.25;go.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Bl(t);if(r==="number"&&isFinite(t))return e.long?$l(t):Ul(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Bl(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Xl;case"weeks":case"week":case"w":return r*ql;case"days":case"day":case"d":return r*$e;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ye;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ge;case"seconds":case"second":case"secs":case"sec":case"s":return r*Ke;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Ul(t){var e=Math.abs(t);return e>=$e?Math.round(t/$e)+"d":e>=Ye?Math.round(t/Ye)+"h":e>=Ge?Math.round(t/Ge)+"m":e>=Ke?Math.round(t/Ke)+"s":t+"ms"}function $l(t){var e=Math.abs(t);return e>=$e?Yt(t,e,$e,"day"):e>=Ye?Yt(t,e,Ye,"hour"):e>=Ge?Yt(t,e,Ge,"minute"):e>=Ke?Yt(t,e,Ke,"second"):t+" ms"}function Yt(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var vo=F((Id,yo)=>{function zl(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=mo(),r.destroy=c,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let l=0;for(let p=0;p<f.length;p++)l=(l<<5)-l+f.charCodeAt(p),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(f){let l,p=null,g,v;function x(...S){if(!x.enabled)return;let N=x,O=Number(new Date),b=O-(l||O);N.diff=b,N.prev=l,N.curr=O,l=O,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let h=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,D)=>{if(E==="%%")return"%";h++;let y=r.formatters[D];if(typeof y=="function"){let P=S[h];E=y.call(N,P),S.splice(h,1),h--}return E}),r.formatArgs.call(N,S),(N.log||r.log).apply(N,S)}return x.namespace=f,x.useColors=r.useColors(),x.color=r.selectColor(f),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==r.namespaces&&(g=r.namespaces,v=r.enabled(f)),v),set:S=>{p=S}}),typeof r.init=="function"&&r.init(x),x}function n(f,l){let p=r(this.namespace+(typeof l=="undefined"?":":l)+f);return p.log=this.log,p}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let l,p=(typeof f=="string"?f:"").split(/[\s,]+/),g=p.length;for(l=0;l<g;l++)!p[l]||(f=p[l].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...r.names.map(a),...r.skips.map(a).map(l=>"-"+l)].join(",");return r.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let l,p;for(l=0,p=r.skips.length;l<p;l++)if(r.skips[l].test(f))return!1;for(l=0,p=r.names.length;l<p;l++)if(r.names[l].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function u(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}yo.exports=zl});var bo=F((se,Jt)=>{se.formatArgs=Wl;se.save=Hl;se.load=Kl;se.useColors=Vl;se.storage=Gl();se.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();se.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Vl(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Wl(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Jt.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}se.log=console.debug||console.log||(()=>{});function Hl(t){try{t?se.storage.setItem("debug",t):se.storage.removeItem("debug")}catch(e){}}function Kl(){let t;try{t=se.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Gl(){try{return localStorage}catch(t){}}Jt.exports=vo()(se);var{formatters:Yl}=Jt.exports;Yl.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var xo=F((Ld,Eo)=>{Eo.exports=wo;function wo(t,e){if(t&&e)return wo(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var Fn=F((Ad,An)=>{var Oo=xo();An.exports=Oo(Qt);An.exports.strict=Oo(To);Qt.proto=Qt(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Qt(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return To(this)},configurable:!0})});function Qt(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function To(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Do=F((Fd,So)=>{var Jl=Fn(),Ql=function(){},Zl=function(t){return t.setHeader&&typeof t.abort=="function"},ef=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},No=function(t,e,r){if(typeof e=="function")return No(t,null,e);e||(e={}),r=Jl(r||Ql);var n=t._writableState,i=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,u=function(){t.writable||c()},c=function(){o=!1,s||r.call(t)},f=function(){s=!1,o||r.call(t)},l=function(S){r.call(t,S?new Error("exited with error code: "+S):null)},p=function(S){r.call(t,S)},g=function(){process.nextTick(v)},v=function(){if(!a){if(s&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},x=function(){t.req.on("finish",c)};return Zl(t)?(t.on("complete",c),t.on("abort",g),t.req?x():t.on("request",x)):o&&!n&&(t.on("end",u),t.on("close",u)),ef(t)&&t.on("exit",l),t.on("end",f),t.on("finish",c),e.error!==!1&&t.on("error",p),t.on("close",g),function(){a=!0,t.removeListener("complete",c),t.removeListener("abort",g),t.removeListener("request",x),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("exit",l),t.removeListener("end",f),t.removeListener("error",p),t.removeListener("close",g)}};So.exports=No});var Io=F((Md,Po)=>{var tf=Fn(),rf=Do(),Mn=require("fs"),ht=function(){},nf=/^v?\.0/.test(process.version),Zt=function(t){return typeof t=="function"},sf=function(t){return!nf||!Mn?!1:(t instanceof(Mn.ReadStream||ht)||t instanceof(Mn.WriteStream||ht))&&Zt(t.close)},of=function(t){return t.setHeader&&Zt(t.abort)},af=function(t,e,r,n){n=tf(n);var i=!1;t.on("close",function(){i=!0}),rf(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,sf(t))return t.close(ht);if(of(t))return t.abort();if(Zt(t.destroy))return t.destroy();n(o||new Error("stream was destroyed"))}}},Co=function(t){t()},uf=function(t,e){return t.pipe(e)},cf=function(){var t=Array.prototype.slice.call(arguments),e=Zt(t[t.length-1]||ht)&&t.pop()||ht;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,s){var o=s<t.length-1,a=s>0;return af(i,o,a,function(u){r||(r=u),u&&n.forEach(Co),!o&&(n.forEach(Co),e(r))})});return t.reduce(uf)};Po.exports=cf});var Ao=F((_d,Lo)=>{"use strict";var{PassThrough:lf}=require("stream");Lo.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let s=new lf({objectMode:i});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",u=>{a.push(u),i?o=a.length:o+=u.length}),s.getBufferedValue=()=>e?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var Fo=F((jd,Je)=>{"use strict";var{constants:ff}=require("buffer"),hf=Io(),pf=Ao(),_n=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function er(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n;return await new Promise((i,s)=>{let o=a=>{a&&n.getBufferedLength()<=ff.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),s(a)};n=hf(t,pf(e),a=>{if(a){o(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new _n)})}),n.getBufferedValue()}Je.exports=er;Je.exports.default=er;Je.exports.buffer=(t,e)=>er(t,{...e,encoding:"buffer"});Je.exports.array=(t,e)=>er(t,{...e,array:!0});Je.exports.MaxBufferError=_n});var ko=F((kd,jo)=>{jo.exports=tr;function tr(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}tr.prototype.go=function(t){this.pending<this.max?_o(this,t):this.waiting.push(t)};tr.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};tr.prototype.hold=function(){return Mo(this)};function Mo(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)_o(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function _o(t,e){e(Mo(t))}});var qo=F(dt=>{var pt=require("fs"),rr=require("util"),jn=require("stream"),Ro=jn.Readable,kn=jn.Writable,df=jn.PassThrough,gf=ko(),nr=require("events").EventEmitter;dt.createFromBuffer=mf;dt.createFromFd=yf;dt.BufferSlicer=Le;dt.FdSlicer=Ie;rr.inherits(Ie,nr);function Ie(t,e){e=e||{},nr.call(this),this.fd=t,this.pend=new gf,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}Ie.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(o){pt.read(s.fd,t,e,r,n,function(a,u,c){o(),i(a,u,c)})})};Ie.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(o){pt.write(s.fd,t,e,r,n,function(a,u,c){o(),i(a,u,c)})})};Ie.prototype.createReadStream=function(t){return new ir(this,t)};Ie.prototype.createWriteStream=function(t){return new sr(this,t)};Ie.prototype.ref=function(){this.refCount+=1};Ie.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&pt.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};rr.inherits(ir,Ro);function ir(t,e){e=e||{},Ro.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}ir.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(r);pt.read(e.context.fd,i,0,r,e.pos,function(s,o){s?e.destroy(s):o===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=o,e.push(i.slice(0,o))),n()})})}};ir.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};rr.inherits(sr,kn);function sr(t,e){e=e||{},kn.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}sr.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();pt.write(n.context.fd,t,0,t.length,n.pos,function(o,a){o?(n.destroy(),s(),r(o)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),s(),r())})})}};sr.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};rr.inherits(Le,nr);function Le(t,e){nr.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}Le.prototype.read=function(t,e,r,n,i){var s=n+r,o=s-this.buffer.length,a=o>0?o:r;this.buffer.copy(t,e,n,s),setImmediate(function(){i(null,a)})};Le.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};Le.prototype.createReadStream=function(t){t=t||{};var e=new df(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};Le.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new kn(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var o=r.pos+n.length;if(o>r.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",r.destroyed=!0,s(a);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=o,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};Le.prototype.ref=function(){this.refCount+=1};Le.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function mf(t,e){return new Le(t,e)}function yf(t,e){return new Ie(t,e)}});var Uo=F((qd,Bo)=>{var je=require("buffer").Buffer,Rn=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(Rn=new Int32Array(Rn));function Xo(t){if(je.isBuffer(t))return t;var e=typeof je.alloc=="function"&&typeof je.from=="function";if(typeof t=="number")return e?je.alloc(t):new je(t);if(typeof t=="string")return e?je.from(t):new je(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function vf(t){var e=Xo(4);return e.writeInt32BE(t,0),e}function qn(t,e){t=Xo(t),je.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=Rn[(r^t[n])&255]^r>>>8;return r^-1}function Xn(){return vf(qn.apply(null,arguments))}Xn.signed=function(){return qn.apply(null,arguments)};Xn.unsigned=function(){return qn.apply(null,arguments)>>>0};Bo.exports=Xn});var Go=F(we=>{var Bn=require("fs"),bf=require("zlib"),$o=qo(),wf=Uo(),or=require("util"),ar=require("events").EventEmitter,zo=require("stream").Transform,Un=require("stream").PassThrough,Ef=require("stream").Writable;we.open=xf;we.fromFd=Vo;we.fromBuffer=Of;we.fromRandomAccessReader=$n;we.dosDateTimeToDate=Ho;we.validateFileName=Ko;we.ZipFile=ke;we.Entry=gt;we.RandomAccessReader=Re;function xf(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=lr),Bn.open(t,"r",function(n,i){if(n)return r(n);Vo(i,e,function(s,o){s&&Bn.close(i,lr),r(s,o)})})}function Vo(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=lr),Bn.fstat(t,function(n,i){if(n)return r(n);var s=$o.createFromFd(t,{autoClose:!0});$n(s,i.size,e,r)})}function Of(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=$o.createFromBuffer(t,{maxChunkSize:65536});$n(n,t.length,e,r)}function $n(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=lr),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,o=65535,a=Math.min(s+o,e),u=be(a),c=e-u.length;Qe(t,u,0,a,c,function(f){if(f)return n(f);for(var l=a-s;l>=0;l-=1)if(u.readUInt32LE(l)===101010256){var p=u.slice(l),g=p.readUInt16LE(4);if(g!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+g));var v=p.readUInt16LE(10),x=p.readUInt32LE(16),S=p.readUInt16LE(20),N=p.length-s;if(S!==N)return n(new Error("invalid comment length. expected: "+N+". found: "+S));var O=i?cr(p,22,p.length,!1):p.slice(22);if(!(v===65535||x===4294967295))return n(null,new ke(t,x,e,v,O,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames));var b=be(20),h=c+l-b.length;Qe(t,b,0,b.length,h,function(d){if(d)return n(d);if(b.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var E=Ze(b,8),D=be(56);Qe(t,D,0,D.length,E,function(y){return y?n(y):D.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(v=Ze(D,32),x=Ze(D,48),n(null,new ke(t,x,e,v,O,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}or.inherits(ke,ar);function ke(t,e,r,n,i,s,o,a,u,c){var f=this;ar.call(f),f.reader=t,f.reader.on("error",function(l){Wo(f,l)}),f.reader.once("close",function(){f.emit("close")}),f.readEntryCursor=e,f.fileSize=r,f.entryCount=n,f.comment=i,f.entriesRead=0,f.autoClose=!!s,f.lazyEntries=!!o,f.decodeStrings=!!a,f.validateEntrySizes=!!u,f.strictFileNames=!!c,f.isOpen=!0,f.emittedError=!1,f.lazyEntries||f._readEntry()}ke.prototype.close=function(){!this.isOpen||(this.isOpen=!1,this.reader.unref())};function pe(t,e){t.autoClose&&t.close(),Wo(t,e)}function Wo(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}ke.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};ke.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=be(46);Qe(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return pe(t,r);if(!t.emittedError){var n=new gt,i=e.readUInt32LE(0);if(i!==33639248)return pe(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return pe(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=be(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),Qe(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return pe(t,s);if(!t.emittedError){var o=(n.generalPurposeBitFlag&2048)!=0;n.fileName=t.decodeStrings?cr(e,0,n.fileNameLength,o):e.slice(0,n.fileNameLength);var a=n.fileNameLength+n.extraFieldLength,u=e.slice(n.fileNameLength,a);n.extraFields=[];for(var c=0;c<u.length-3;){var f=u.readUInt16LE(c+0),l=u.readUInt16LE(c+2),p=c+4,g=p+l;if(g>u.length)return pe(t,new Error("extra field length exceeds extra field buffer size"));var v=be(l);u.copy(v,0,p,g),n.extraFields.push({id:f,data:v}),c=g}if(n.fileComment=t.decodeStrings?cr(e,a,a+n.fileCommentLength,o):e.slice(a,a+n.fileCommentLength),n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var x=null,c=0;c<n.extraFields.length;c++){var S=n.extraFields[c];if(S.id===1){x=S.data;break}}if(x==null)return pe(t,new Error("expected zip64 extended information extra field"));var N=0;if(n.uncompressedSize===4294967295){if(N+8>x.length)return pe(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=Ze(x,N),N+=8}if(n.compressedSize===4294967295){if(N+8>x.length)return pe(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=Ze(x,N),N+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(N+8>x.length)return pe(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=Ze(x,N),N+=8}}if(t.decodeStrings)for(var c=0;c<n.extraFields.length;c++){var S=n.extraFields[c];if(S.id===28789){if(S.data.length<6||S.data.readUInt8(0)!==1)continue;var O=S.data.readUInt32LE(1);if(wf.unsigned(e.slice(0,n.fileNameLength))!==O)continue;n.fileName=cr(S.data,5,S.data.length,!0);break}}if(t.validateEntrySizes&&n.compressionMethod===0){var b=n.uncompressedSize;if(n.isEncrypted()&&(b+=12),n.compressedSize!==b){var h="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return pe(t,new Error(h))}}if(t.decodeStrings){t.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var d=Ko(n.fileName,t.validateFileNameOptions);if(d!=null)return pe(t,new Error(d))}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};ke.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null)r=e,e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var o=be(30);Qe(n.reader,o,0,o.length,t.relativeOffsetOfLocalHeader,function(a){try{if(a)return r(a);var u=o.readUInt32LE(0);if(u!==67324752)return r(new Error("invalid local file header signature: 0x"+u.toString(16)));var c=o.readUInt16LE(26),f=o.readUInt16LE(28),l=t.relativeOffsetOfLocalHeader+o.length+c+f,p;if(t.compressionMethod===0)p=!1;else if(t.compressionMethod===8)p=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));var g=l,v=g+t.compressedSize;if(t.compressedSize!==0&&v>n.fileSize)return r(new Error("file data overflows file bounds: "+g+" + "+t.compressedSize+" > "+n.fileSize));var x=n.reader.createReadStream({start:g+i,end:g+s}),S=x;if(p){var N=!1,O=bf.createInflateRaw();x.on("error",function(b){setImmediate(function(){N||O.emit("error",b)})}),x.pipe(O),n.validateEntrySizes?(S=new mt(t.uncompressedSize),O.on("error",function(b){setImmediate(function(){N||S.emit("error",b)})}),O.pipe(S)):S=O,S.destroy=function(){N=!0,O!==S&&O.unpipe(S),x.unpipe(O),x.destroy()}}r(null,S)}finally{n.reader.unref()}})};function gt(){}gt.prototype.getLastModDate=function(){return Ho(this.lastModFileDate,this.lastModFileTime)};gt.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!=0};gt.prototype.isCompressed=function(){return this.compressionMethod===8};function Ho(t,e){var r=t&31,n=(t>>5&15)-1,i=(t>>9&127)+1980,s=0,o=(e&31)*2,a=e>>5&63,u=e>>11&31;return new Date(i,n,r,u,a,o,s)}function Ko(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function Qe(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,be(0))});t.read(e,r,n,i,function(o,a){if(o)return s(o);if(a<n)return s(new Error("unexpected EOF"));s()})}or.inherits(mt,zo);function mt(t){zo.call(this),this.actualByteCount=0,this.expectedByteCount=t}mt.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};mt.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};or.inherits(Re,ar);function Re(){ar.call(this),this.refCount=0}Re.prototype.ref=function(){this.refCount+=1};Re.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};Re.prototype.createReadStream=function(t){var e=t.start,r=t.end;if(e===r){var n=new Un;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,o=new ur(this);i.on("error",function(u){setImmediate(function(){s||o.emit("error",u)})}),o.destroy=function(){i.unpipe(o),o.unref(),i.destroy()};var a=new mt(r-e);return o.on("error",function(u){setImmediate(function(){s||a.emit("error",u)})}),a.destroy=function(){s=!0,o.unpipe(a),o.destroy()},i.pipe(o).pipe(a)};Re.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};Re.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),o=new Ef,a=0;o._write=function(u,c,f){u.copy(t,e+a,0,u.length),a+=u.length,f()},o.on("finish",i),s.on("error",function(u){i(u)}),s.pipe(o)};Re.prototype.close=function(t){setImmediate(t)};or.inherits(ur,Un);function ur(t){Un.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}ur.prototype._flush=function(t){this.unref(),t()};ur.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var Tf="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function cr(t,e,r,n){if(n)return t.toString("utf8",e,r);for(var i="",s=e;s<r;s++)i+=Tf[t[s]];return i}function Ze(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var be;typeof Buffer.allocUnsafe=="function"?be=function(t){return Buffer.allocUnsafe(t)}:be=function(t){return new Buffer(t)};function lr(t){if(t)throw t}});var Qo=F((Bd,Jo)=>{var de=bo()("extract-zip"),{createWriteStream:Nf,promises:et}=require("fs"),Sf=Fo(),ze=require("path"),{promisify:zn}=require("util"),Df=require("stream"),Cf=Go(),Pf=zn(Cf.open),If=zn(Df.pipeline),Yo=class{constructor(e,r){this.zipPath=e,this.opts=r}async extract(){return de("opening",this.zipPath,"with opts",this.opts),this.zipfile=await Pf(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,r)=>{this.zipfile.on("error",n=>{this.canceled=!0,r(n)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(de("zip extraction complete"),e())}),this.zipfile.on("entry",async n=>{if(this.canceled){de("skipping entry",n.fileName,{cancelled:this.canceled});return}if(de("zipfile entry",n.fileName),n.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let i=ze.dirname(ze.join(this.opts.dir,n.fileName));try{await et.mkdir(i,{recursive:!0});let s=await et.realpath(i);if(ze.relative(this.opts.dir,s).split(ze.sep).includes(".."))throw new Error(`Out of bound path "${s}" found while processing file ${n.fileName}`);await this.extractEntry(n),de("finished processing",n.fileName),this.zipfile.readEntry()}catch(s){this.canceled=!0,this.zipfile.close(),r(s)}})})}async extractEntry(e){if(this.canceled){de("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);let r=ze.join(this.opts.dir,e.fileName),n=e.externalFileAttributes>>16&65535,i=61440,s=16384,o=40960,a=(n&i)===o,u=(n&i)===s;!u&&e.fileName.endsWith("/")&&(u=!0);let c=e.versionMadeBy>>8;u||(u=c===0&&e.externalFileAttributes===16),de("extracting entry",{filename:e.fileName,isDir:u,isSymlink:a});let f=this.getExtractedMode(n,u)&511,l=u?r:ze.dirname(r),p={recursive:!0};if(u&&(p.mode=f),de("mkdir",{dir:l,...p}),await et.mkdir(l,p),u)return;de("opening read stream",r);let g=await zn(this.zipfile.openReadStream.bind(this.zipfile))(e);if(a){let v=await Sf(g);de("creating symlink",v,r),await et.symlink(v,r)}else await If(g,Nf(r,{mode:f}))}getExtractedMode(e,r){let n=e;return n===0&&(r?(this.opts.defaultDirMode&&(n=parseInt(this.opts.defaultDirMode,10)),n||(n=493)):(this.opts.defaultFileMode&&(n=parseInt(this.opts.defaultFileMode,10)),n||(n=420))),n}};Jo.exports=async function(t,e){if(de("creating target directory",e.dir),!ze.isAbsolute(e.dir))throw new Error("Target directory is expected to be absolute");return await et.mkdir(e.dir,{recursive:!0}),e.dir=await et.realpath(e.dir),new Yo(t,e).extract()}});var ea=F((Ud,Zo)=>{"use strict";Zo.exports=t=>function(){let e=arguments.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=arguments[n];return new Promise((n,i)=>{r.push((s,o)=>{s?i(s):n(o)}),t.apply(null,r)})}});var re=F(($d,ta)=>{"use strict";var fr=require("fs"),Lf=ea(),Af=t=>[typeof fr[t]=="function",!t.match(/Sync$/),!t.match(/^[A-Z]/),!t.match(/^create/),!t.match(/^(un)?watch/)].every(Boolean),Ff=t=>{let e=fr[t];return Lf(e)},Mf=()=>{let t={};return Object.keys(fr).forEach(e=>{Af(e)?e==="exists"?t.exists=()=>{throw new Error("fs.exists() is deprecated")}:t[e]=Ff(e):t[e]=fr[e]}),t};ta.exports=Mf()});var J=F((zd,sa)=>{"use strict";var _f=t=>{let e=r=>["a","e","i","o","u"].indexOf(r[0])!==-1?`an ${r}`:`a ${r}`;return t.map(e).join(" or ")},ra=t=>/array of /.test(t),na=t=>t.split(" of ")[1],ia=t=>ra(t)?ia(na(t)):["string","number","boolean","array","object","buffer","null","undefined","function"].some(e=>e===t),yt=t=>t===null?"null":Array.isArray(t)?"array":Buffer.isBuffer(t)?"buffer":typeof t,jf=(t,e,r)=>r.indexOf(t)===e,kf=t=>{let e=yt(t),r;return e==="array"&&(r=t.map(n=>yt(n)).filter(jf),e+=` of ${r.join(", ")}`),e},Rf=(t,e)=>{let r=na(e);return yt(t)!=="array"?!1:t.every(n=>yt(n)===r)},Vn=(t,e,r,n)=>{if(!n.some(s=>{if(!ia(s))throw new Error(`Unknown type "${s}"`);return ra(s)?Rf(r,s):s===yt(r)}))throw new Error(`Argument "${e}" passed to ${t} must be ${_f(n)}. Received ${kf(r)}`)},qf=(t,e,r,n)=>{r!==void 0&&(Vn(t,e,r,["object"]),Object.keys(r).forEach(i=>{let s=`${e}.${i}`;if(n[i]!==void 0)Vn(t,s,r[i],n[i]);else throw new Error(`Unknown argument "${s}" passed to ${t}`)}))};sa.exports={argument:Vn,options:qf}});var hr=F(oa=>{"use strict";oa.normalizeFileMode=t=>{let e;return typeof t=="number"?e=t.toString(8):e=t,e.substring(e.length-3)}});var dr=F(pr=>{"use strict";var aa=re(),Xf=J(),Bf=(t,e)=>{let r=`${t}([path])`;Xf.argument(r,"path",e,["string","undefined"])},Uf=t=>{aa.rmSync(t,{recursive:!0,force:!0,maxRetries:3})},$f=t=>aa.rm(t,{recursive:!0,force:!0,maxRetries:3});pr.validateInput=Bf;pr.sync=Uf;pr.async=$f});var Ve=F(tt=>{"use strict";var gr=require("path"),Ee=re(),Wn=hr(),ua=J(),ca=dr(),zf=(t,e,r)=>{let n=`${t}(path, [criteria])`;ua.argument(n,"path",e,["string"]),ua.options(n,"criteria",r,{empty:["boolean"],mode:["string","number"]})},la=t=>{let e=t||{};return typeof e.empty!="boolean"&&(e.empty=!1),e.mode!==void 0&&(e.mode=Wn.normalizeFileMode(e.mode)),e},fa=t=>new Error(`Path ${t} exists but is not a directory. Halting jetpack.dir() call for safety reasons.`),Vf=t=>{let e;try{e=Ee.statSync(t)}catch(r){if(r.code!=="ENOENT")throw r}if(e&&!e.isDirectory())throw fa(t);return e},Hn=(t,e)=>{let r=e||{};try{Ee.mkdirSync(t,r.mode)}catch(n){if(n.code==="ENOENT")Hn(gr.dirname(t),r),Ee.mkdirSync(t,r.mode);else if(n.code!=="EEXIST")throw n}},Wf=(t,e,r)=>{let n=()=>{let s=Wn.normalizeFileMode(e.mode);r.mode!==void 0&&r.mode!==s&&Ee.chmodSync(t,r.mode)},i=()=>{r.empty&&Ee.readdirSync(t).forEach(o=>{ca.sync(gr.resolve(t,o))})};n(),i()},Hf=(t,e)=>{let r=la(e),n=Vf(t);n?Wf(t,n,r):Hn(t,r)},Kf=t=>new Promise((e,r)=>{Ee.stat(t).then(n=>{n.isDirectory()?e(n):r(fa(t))}).catch(n=>{n.code==="ENOENT"?e(void 0):r(n)})}),Gf=t=>new Promise((e,r)=>{Ee.readdir(t).then(n=>{let i=s=>{if(s===n.length)e();else{let o=gr.resolve(t,n[s]);ca.async(o).then(()=>{i(s+1)})}};i(0)}).catch(r)}),Yf=(t,e,r)=>new Promise((n,i)=>{let s=()=>{let a=Wn.normalizeFileMode(e.mode);return r.mode!==void 0&&r.mode!==a?Ee.chmod(t,r.mode):Promise.resolve()},o=()=>r.empty?Gf(t):Promise.resolve();s().then(o).then(n,i)}),Kn=(t,e)=>{let r=e||{};return new Promise((n,i)=>{Ee.mkdir(t,r.mode).then(n).catch(s=>{s.code==="ENOENT"?Kn(gr.dirname(t),r).then(()=>Ee.mkdir(t,r.mode)).then(n).catch(o=>{o.code==="EEXIST"?n():i(o)}):s.code==="EEXIST"?n():i(s)})})},Jf=(t,e)=>new Promise((r,n)=>{let i=la(e);Kf(t).then(s=>s!==void 0?Yf(t,s,i):Kn(t,i)).then(r,n)});tt.validateInput=zf;tt.sync=Hf;tt.createSync=Hn;tt.async=Jf;tt.createAsync=Kn});var vt=F(yr=>{"use strict";var ha=require("path"),rt=re(),Gn=J(),pa=Ve(),Qf=(t,e,r,n)=>{let i=`${t}(path, data, [options])`;Gn.argument(i,"path",e,["string"]),Gn.argument(i,"data",r,["string","buffer","object","array"]),Gn.options(i,"options",n,{mode:["string","number"],atomic:["boolean"],jsonIndent:["number"]})},mr=".__new__",da=(t,e)=>{let r=e;return typeof r!="number"&&(r=2),typeof t=="object"&&!Buffer.isBuffer(t)&&t!==null?JSON.stringify(t,null,r):t},ga=(t,e,r)=>{try{rt.writeFileSync(t,e,r)}catch(n){if(n.code==="ENOENT")pa.createSync(ha.dirname(t)),rt.writeFileSync(t,e,r);else throw n}},Zf=(t,e,r)=>{ga(t+mr,e,r),rt.renameSync(t+mr,t)},eh=(t,e,r)=>{let n=r||{},i=da(e,n.jsonIndent),s=ga;n.atomic&&(s=Zf),s(t,i,{mode:n.mode})},ma=(t,e,r)=>new Promise((n,i)=>{rt.writeFile(t,e,r).then(n).catch(s=>{s.code==="ENOENT"?pa.createAsync(ha.dirname(t)).then(()=>rt.writeFile(t,e,r)).then(n,i):i(s)})}),th=(t,e,r)=>new Promise((n,i)=>{ma(t+mr,e,r).then(()=>rt.rename(t+mr,t)).then(n,i)}),rh=(t,e,r)=>{let n=r||{},i=da(e,n.jsonIndent),s=ma;return n.atomic&&(s=th),s(t,i,{mode:n.mode})};yr.validateInput=Qf;yr.sync=eh;yr.async=rh});var ba=F(vr=>{"use strict";var ya=re(),va=vt(),Yn=J(),nh=(t,e,r,n)=>{let i=`${t}(path, data, [options])`;Yn.argument(i,"path",e,["string"]),Yn.argument(i,"data",r,["string","buffer"]),Yn.options(i,"options",n,{mode:["string","number"]})},ih=(t,e,r)=>{try{ya.appendFileSync(t,e,r)}catch(n){if(n.code==="ENOENT")va.sync(t,e,r);else throw n}},sh=(t,e,r)=>new Promise((n,i)=>{ya.appendFile(t,e,r).then(n).catch(s=>{s.code==="ENOENT"?va.async(t,e,r).then(n,i):i(s)})});vr.validateInput=nh;vr.sync=ih;vr.async=sh});var Oa=F(Er=>{"use strict";var br=re(),Jn=hr(),wa=J(),wr=vt(),oh=(t,e,r)=>{let n=`${t}(path, [criteria])`;wa.argument(n,"path",e,["string"]),wa.options(n,"criteria",r,{content:["string","buffer","object","array"],jsonIndent:["number"],mode:["string","number"]})},Ea=t=>{let e=t||{};return e.mode!==void 0&&(e.mode=Jn.normalizeFileMode(e.mode)),e},xa=t=>new Error(`Path ${t} exists but is not a file. Halting jetpack.file() call for safety reasons.`),ah=t=>{let e;try{e=br.statSync(t)}catch(r){if(r.code!=="ENOENT")throw r}if(e&&!e.isFile())throw xa(t);return e},uh=(t,e,r)=>{let n=Jn.normalizeFileMode(e.mode),i=()=>r.content!==void 0?(wr.sync(t,r.content,{mode:n,jsonIndent:r.jsonIndent}),!0):!1,s=()=>{r.mode!==void 0&&r.mode!==n&&br.chmodSync(t,r.mode)};i()||s()},ch=(t,e)=>{let r="";e.content!==void 0&&(r=e.content),wr.sync(t,r,{mode:e.mode,jsonIndent:e.jsonIndent})},lh=(t,e)=>{let r=Ea(e),n=ah(t);n!==void 0?uh(t,n,r):ch(t,r)},fh=t=>new Promise((e,r)=>{br.stat(t).then(n=>{n.isFile()?e(n):r(xa(t))}).catch(n=>{n.code==="ENOENT"?e(void 0):r(n)})}),hh=(t,e,r)=>{let n=Jn.normalizeFileMode(e.mode),i=()=>new Promise((o,a)=>{r.content!==void 0?wr.async(t,r.content,{mode:n,jsonIndent:r.jsonIndent}).then(()=>{o(!0)}).catch(a):o(!1)}),s=()=>{if(r.mode!==void 0&&r.mode!==n)return br.chmod(t,r.mode)};return i().then(o=>{if(!o)return s()})},ph=(t,e)=>{let r="";return e.content!==void 0&&(r=e.content),wr.async(t,r,{mode:e.mode,jsonIndent:e.jsonIndent})},dh=(t,e)=>new Promise((r,n)=>{let i=Ea(e);fh(t).then(s=>s!==void 0?hh(t,s,i):ph(t,i)).then(r,n)});Er.validateInput=oh;Er.sync=lh;Er.async=dh});var it=F(nt=>{"use strict";var Ta=require("crypto"),gh=require("path"),qe=re(),Na=J(),Qn=["md5","sha1","sha256","sha512"],Zn=["report","follow"],mh=(t,e,r)=>{let n=`${t}(path, [options])`;if(Na.argument(n,"path",e,["string"]),Na.options(n,"options",r,{checksum:["string"],mode:["boolean"],times:["boolean"],absolutePath:["boolean"],symlinks:["string"]}),r&&r.checksum!==void 0&&Qn.indexOf(r.checksum)===-1)throw new Error(`Argument "options.checksum" passed to ${n} must have one of values: ${Qn.join(", ")}`);if(r&&r.symlinks!==void 0&&Zn.indexOf(r.symlinks)===-1)throw new Error(`Argument "options.symlinks" passed to ${n} must have one of values: ${Zn.join(", ")}`)},Sa=(t,e,r)=>{let n={};return n.name=gh.basename(t),r.isFile()?(n.type="file",n.size=r.size):r.isDirectory()?n.type="dir":r.isSymbolicLink()?n.type="symlink":n.type="other",e.mode&&(n.mode=r.mode),e.times&&(n.accessTime=r.atime,n.modifyTime=r.mtime,n.changeTime=r.ctime,n.birthTime=r.birthtime),e.absolutePath&&(n.absolutePath=t),n},yh=(t,e)=>{let r=Ta.createHash(e),n=qe.readFileSync(t);return r.update(n),r.digest("hex")},vh=(t,e,r)=>{e.type==="file"&&r.checksum?e[r.checksum]=yh(t,r.checksum):e.type==="symlink"&&(e.pointsAt=qe.readlinkSync(t))},bh=(t,e)=>{let r=qe.lstatSync,n,i=e||{};i.symlinks==="follow"&&(r=qe.statSync);try{n=r(t)}catch(o){if(o.code==="ENOENT")return;throw o}let s=Sa(t,i,n);return vh(t,s,i),s},wh=(t,e)=>new Promise((r,n)=>{let i=Ta.createHash(e),s=qe.createReadStream(t);s.on("data",o=>{i.update(o)}),s.on("end",()=>{r(i.digest("hex"))}),s.on("error",n)}),Eh=(t,e,r)=>e.type==="file"&&r.checksum?wh(t,r.checksum).then(n=>(e[r.checksum]=n,e)):e.type==="symlink"?qe.readlink(t).then(n=>(e.pointsAt=n,e)):Promise.resolve(e),xh=(t,e)=>new Promise((r,n)=>{let i=qe.lstat,s=e||{};s.symlinks==="follow"&&(i=qe.stat),i(t).then(o=>{let a=Sa(t,s,o);Eh(t,a,s).then(r,n)}).catch(o=>{o.code==="ENOENT"?r(void 0):n(o)})});nt.supportedChecksumAlgorithms=Qn;nt.symlinkOptions=Zn;nt.validateInput=mh;nt.sync=bh;nt.async=xh});var Or=F(xr=>{"use strict";var Da=re(),Oh=J(),Th=(t,e)=>{let r=`${t}(path)`;Oh.argument(r,"path",e,["string","undefined"])},Nh=t=>{try{return Da.readdirSync(t)}catch(e){if(e.code==="ENOENT")return;throw e}},Sh=t=>new Promise((e,r)=>{Da.readdir(t).then(n=>{e(n)}).catch(n=>{n.code==="ENOENT"?e(void 0):r(n)})});xr.validateInput=Th;xr.sync=Nh;xr.async=Sh});var Dr=F(ei=>{"use strict";var Tr=require("fs"),Nr=require("path"),bt=it(),Zd=Or(),Sr=t=>t.isDirectory()?"dir":t.isFile()?"file":t.isSymbolicLink()?"symlink":"other",Dh=(t,e,r)=>{e.maxLevelsDeep===void 0&&(e.maxLevelsDeep=1/0);let n=e.inspectOptions!==void 0;e.symlinks&&(e.inspectOptions===void 0?e.inspectOptions={symlinks:e.symlinks}:e.inspectOptions.symlinks=e.symlinks);let i=(o,a)=>{Tr.readdirSync(o,{withFileTypes:!0}).forEach(u=>{let c=typeof u=="string",f;c?f=Nr.join(o,u):f=Nr.join(o,u.name);let l;if(n)l=bt.sync(f,e.inspectOptions);else if(c){let p=bt.sync(f,e.inspectOptions);l={name:p.name,type:p.type}}else{let p=Sr(u);if(p==="symlink"&&e.symlinks==="follow"){let g=Tr.statSync(f);l={name:u.name,type:Sr(g)}}else l={name:u.name,type:p}}l!==void 0&&(r(f,l),l.type==="dir"&&a<e.maxLevelsDeep&&i(f,a+1))})},s=bt.sync(t,e.inspectOptions);s?(n?r(t,s):r(t,{name:s.name,type:s.type}),s.type==="dir"&&i(t,1)):r(t,void 0)},Ch=5,Ph=(t,e,r,n)=>{e.maxLevelsDeep===void 0&&(e.maxLevelsDeep=1/0);let i=e.inspectOptions!==void 0;e.symlinks&&(e.inspectOptions===void 0?e.inspectOptions={symlinks:e.symlinks}:e.inspectOptions.symlinks=e.symlinks);let s=[],o=0,a=()=>{if(s.length===0&&o===0)n();else if(s.length>0&&o<Ch){let l=s.pop();o+=1,l()}},u=l=>{s.push(l),a()},c=()=>{o-=1,a()},f=(l,p)=>{let g=(v,x)=>{x.type==="dir"&&p<e.maxLevelsDeep&&f(v,p+1)};u(()=>{Tr.readdir(l,{withFileTypes:!0},(v,x)=>{v?n(v):(x.forEach(S=>{let N=typeof S=="string",O;if(N?O=Nr.join(l,S):O=Nr.join(l,S.name),i||N)u(()=>{bt.async(O,e.inspectOptions).then(b=>{b!==void 0&&(i?r(O,b):r(O,{name:b.name,type:b.type}),g(O,b)),c()}).catch(b=>{n(b)})});else{let b=Sr(S);if(b==="symlink"&&e.symlinks==="follow")u(()=>{Tr.stat(O,(h,d)=>{if(h)n(h);else{let E={name:S.name,type:Sr(d)};r(O,E),g(O,E),c()}})});else{let h={name:S.name,type:b};r(O,h),g(O,h)}}}),c())})})};bt.async(t,e.inspectOptions).then(l=>{l?(i?r(t,l):r(t,{name:l.name,type:l.type}),l.type==="dir"?f(t,1):n()):(r(t,void 0),n())}).catch(l=>{n(l)})};ei.sync=Dh;ei.async=Ph});var Pa=F((tg,Ca)=>{var Ih=typeof process=="object"&&process&&process.platform==="win32";Ca.exports=Ih?{sep:"\\"}:{sep:"/"}});var Ma=F((rg,Fa)=>{"use strict";Fa.exports=Ia;function Ia(t,e,r){t instanceof RegExp&&(t=La(t,r)),e instanceof RegExp&&(e=La(e,r));var n=Aa(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function La(t,e){var r=e.match(t);return r?r[0]:null}Ia.range=Aa;function Aa(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),f=u;if(u>=0&&c>0){if(t===e)return[u,c];for(n=[],s=r.length;f>=0&&!a;)f==u?(n.push(f),u=r.indexOf(t,f+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,f+1)),f=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}});var Ua=F((ng,Ba)=>{var _a=Ma();Ba.exports=Fh;var ja="\0SLASH"+Math.random()+"\0",ka="\0OPEN"+Math.random()+"\0",ti="\0CLOSE"+Math.random()+"\0",Ra="\0COMMA"+Math.random()+"\0",qa="\0PERIOD"+Math.random()+"\0";function ri(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Lh(t){return t.split("\\\\").join(ja).split("\\{").join(ka).split("\\}").join(ti).split("\\,").join(Ra).split("\\.").join(qa)}function Ah(t){return t.split(ja).join("\\").split(ka).join("{").split(ti).join("}").split(Ra).join(",").split(qa).join(".")}function Xa(t){if(!t)return[""];var e=[],r=_a("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Xa(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Fh(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),wt(Lh(t),!0).map(Ah)):[]}function Mh(t){return"{"+t+"}"}function _h(t){return/^-?0\d/.test(t)}function jh(t,e){return t<=e}function kh(t,e){return t>=e}function wt(t,e){var r=[],n=_a("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?wt(n.post,!1):[""];if(/\$$/.test(n.pre))for(var o=0;o<s.length;o++){var a=i+"{"+n.body+"}"+s[o];r.push(a)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=u||c,l=n.body.indexOf(",")>=0;if(!f&&!l)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+ti+n.post,wt(t)):[t];var p;if(f)p=n.body.split(/\.\./);else if(p=Xa(n.body),p.length===1&&(p=wt(p[0],!1).map(Mh),p.length===1))return s.map(function(T){return n.pre+p[0]+T});var g;if(f){var v=ri(p[0]),x=ri(p[1]),S=Math.max(p[0].length,p[1].length),N=p.length==3?Math.abs(ri(p[2])):1,O=jh,b=x<v;b&&(N*=-1,O=kh);var h=p.some(_h);g=[];for(var d=v;O(d,x);d+=N){var E;if(c)E=String.fromCharCode(d),E==="\\"&&(E="");else if(E=String(d),h){var D=S-E.length;if(D>0){var y=new Array(D+1).join("0");d<0?E="-"+y+E.slice(1):E=y+E}}g.push(E)}}else{g=[];for(var P=0;P<p.length;P++)g.push.apply(g,wt(p[P],!1))}for(var P=0;P<g.length;P++)for(var o=0;o<s.length;o++){var a=i+g[P]+s[o];(!e||f||a)&&r.push(a)}}return r}});var Ka=F((sg,ai)=>{var oe=ai.exports=(t,e,r={})=>(Cr(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Et(e,r).match(t));ai.exports=oe;var ni=Pa();oe.sep=ni.sep;var ge=Symbol("globstar **");oe.GLOBSTAR=ge;var Rh=Ua(),$a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ii="[^/]",si=ii+"*?",qh="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Xh="(?:(?!(?:\\/|^)\\.).)*?",za=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),Va=za("().*{}+?[]^$\\!"),Bh=za("[.("),Wa=/\/+/;oe.filter=(t,e={})=>(r,n,i)=>oe(r,t,e);var Xe=(t,e={})=>{let r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};oe.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return oe;let e=oe,r=(n,i,s)=>e(n,i,Xe(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,Xe(t,s))}},r.Minimatch.defaults=n=>e.defaults(Xe(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,Xe(t,i)),r.defaults=n=>e.defaults(Xe(t,n)),r.makeRe=(n,i)=>e.makeRe(n,Xe(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,Xe(t,i)),r.match=(n,i,s)=>e.match(n,i,Xe(t,s)),r};oe.braceExpand=(t,e)=>Ha(t,e);var Ha=(t,e={})=>(Cr(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Rh(t)),Uh=1024*64,Cr=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Uh)throw new TypeError("pattern is too long")},oi=Symbol("subparse");oe.makeRe=(t,e)=>new Et(t,e||{}).makeRe();oe.match=(t,e,r={})=>{let n=new Et(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};var $h=t=>t.replace(/\\(.)/g,"$1"),zh=t=>t.replace(/\\([^-\]])/g,"$1"),Vh=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Wh=t=>t.replace(/[[\]\\]/g,"\\$&"),Et=class{constructor(e,r){Cr(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(Wa)),this.debug(this.pattern,n),n=n.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,o=0,a=e.length,u=r.length;s<a&&o<u;s++,o++){this.debug("matchOne loop");var c=r[o],f=e[s];if(this.debug(r,c,f),c===!1)return!1;if(c===ge){this.debug("GLOBSTAR",[r,c,f]);var l=s,p=o+1;if(p===u){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;l<a;){var g=e[l];if(this.debug(`
globstar while`,e,l,r,p,g),this.matchOne(e.slice(l),r.slice(p),n))return this.debug("globstar found match!",l,a,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",e,l,r,p);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,l,r,p),l===a))}var v;if(typeof c=="string"?(v=f===c,this.debug("string match",c,f,v)):(v=f.match(c),this.debug("pattern match",c,f,v)),!v)return!1}if(s===a&&o===u)return!0;if(s===a)return n;if(o===u)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return Ha(this.pattern,this.options)}parse(e,r){Cr(e);let n=this.options;if(e==="**")if(n.noglobstar)e="*";else return ge;if(e==="")return"";let i="",s=!1,o=!1,a=[],u=[],c,f=!1,l=-1,p=-1,g,v,x,S=e.charAt(0)===".",N=n.dot||S,O=()=>S?"":N?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=D=>D.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=()=>{if(c){switch(c){case"*":i+=si,s=!0;break;case"?":i+=ii,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let D=0,y;D<e.length&&(y=e.charAt(D));D++){if(this.debug("%s	%s %s %j",e,D,i,y),o){if(y==="/")return!1;Va[y]&&(i+="\\"),i+=y,o=!1;continue}switch(y){case"/":return!1;case"\\":if(f&&e.charAt(D+1)==="-"){i+=y;continue}h(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,D,i,y),f){this.debug("  in class"),y==="!"&&D===p+1&&(y="^"),i+=y;continue}this.debug("call clearStateChar %j",c),h(),c=y,n.noext&&h();continue;case"(":{if(f){i+="(";continue}if(!c){i+="\\(";continue}let P={type:c,start:D-1,reStart:i.length,open:$a[c].open,close:$a[c].close};this.debug(this.pattern,"	",P),a.push(P),i+=P.open,P.start===0&&P.type!=="!"&&(S=!0,i+=b(e.slice(D+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{let P=a[a.length-1];if(f||!P){i+="\\)";continue}a.pop(),h(),s=!0,v=P,i+=v.close,v.type==="!"&&u.push(Object.assign(v,{reEnd:i.length}));continue}case"|":{let P=a[a.length-1];if(f||!P){i+="\\|";continue}h(),i+="|",P.start===0&&P.type!=="!"&&(S=!0,i+=b(e.slice(D+1)));continue}case"[":if(h(),f){i+="\\"+y;continue}f=!0,p=D,l=i.length,i+=y;continue;case"]":if(D===p+1||!f){i+="\\"+y;continue}g=e.substring(p+1,D);try{RegExp("["+Wh(zh(g))+"]"),i+=y}catch(P){i=i.substring(0,l)+"(?:$.)"}s=!0,f=!1;continue;default:h(),Va[y]&&!(y==="^"&&f)&&(i+="\\"),i+=y;break}}for(f&&(g=e.slice(p+1),x=this.parse(g,oi),i=i.substring(0,l)+"\\["+x[0],s=s||x[1]),v=a.pop();v;v=a.pop()){let D;D=i.slice(v.reStart+v.open.length),this.debug("setting tail",i,v),D=D.replace(/((?:\\{2}){0,64})(\\?)\|/g,(P,T,I)=>(I||(I="\\"),T+T+I+"|")),this.debug(`tail=%j
   %s`,D,D,v,i);let y=v.type==="*"?si:v.type==="?"?ii:"\\"+v.type;s=!0,i=i.slice(0,v.reStart)+y+"\\("+D}h(),o&&(i+="\\\\");let d=Bh[i.charAt(0)];for(let D=u.length-1;D>-1;D--){let y=u[D],P=i.slice(0,y.reStart),T=i.slice(y.reStart,y.reEnd-8),I=i.slice(y.reEnd),A=i.slice(y.reEnd-8,y.reEnd)+I,M=P.split(")").length,k=P.split("(").length-M,R=I;for(let $=0;$<k;$++)R=R.replace(/\)[+*?]?/,"");I=R;let _=I===""&&r!==oi?"(?:$|\\/)":"";i=P+T+I+_+A}if(i!==""&&s&&(i="(?=.)"+i),d&&(i=O()+i),r===oi)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return $h(e);let E=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",E),{_glob:e,_src:i})}catch(D){return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?si:r.dot?qh:Xh,i=r.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?Vh(a):a===ge?ge:a._src).reduce((a,u)=>(a[a.length-1]===ge&&u===ge||a.push(u),a),[]),o.forEach((a,u)=>{a!==ge||o[u-1]===ge||(u===0?o.length>1?o[u+1]="(?:\\/|"+n+"\\/)?"+o[u+1]:o[u]=n:u===o.length-1?o[u-1]+="(?:\\/|"+n+")?":(o[u-1]+="(?:\\/|\\/"+n+"\\/)"+o[u+1],o[u+1]=ge))}),o.filter(a=>a!==ge).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch(o){this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;ni.sep!=="/"&&(e=e.split(ni.sep).join("/")),e=e.split(Wa),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],u=e;if(n.matchBase&&a.length===1&&(u=[s]),this.matchOne(u,a,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return oe.defaults(e).Minimatch}};oe.Minimatch=Et});var ui=F(Ga=>{"use strict";var Hh=Ka().Minimatch,Kh=(t,e)=>{let r=e.indexOf("/")!==-1,n=/^!?\//.test(e),i=/^!/.test(e),s;if(!n&&r){let o=e.replace(/^!/,"").replace(/^\.\//,"");return/\/$/.test(t)?s="":s="/",i?`!${t}${s}${o}`:`${t}${s}${o}`}return e};Ga.create=(t,e,r)=>{let n;typeof e=="string"?n=[e]:n=e;let i=n.map(o=>Kh(t,o)).map(o=>new Hh(o,{matchBase:!0,nocomment:!0,nocase:r||!1,dot:!0,windowsPathsNoEscape:!0}));return o=>{let a="matching",u=!1,c,f;for(f=0;f<i.length;f+=1){if(c=i[f],c.negate&&(a="negation",f===0&&(u=!0)),a==="negation"&&u&&!c.match(o))return!1;a==="matching"&&!u&&(u=c.match(o))}return u}}});var iu=F(Pr=>{"use strict";var Gh=require("path"),Ya=Dr(),Ja=it(),Qa=ui(),Za=J(),Yh=(t,e,r)=>{let n=`${t}([path], options)`;Za.argument(n,"path",e,["string"]),Za.options(n,"options",r,{matching:["string","array of string"],filter:["function"],files:["boolean"],directories:["boolean"],recursive:["boolean"],ignoreCase:["boolean"]})},eu=t=>{let e=t||{};return e.matching===void 0&&(e.matching="*"),e.files===void 0&&(e.files=!0),e.ignoreCase===void 0&&(e.ignoreCase=!1),e.directories===void 0&&(e.directories=!1),e.recursive===void 0&&(e.recursive=!0),e},tu=(t,e)=>t.map(r=>Gh.relative(e,r)),ru=t=>{let e=new Error(`Path you want to find stuff in doesn't exist ${t}`);return e.code="ENOENT",e},nu=t=>{let e=new Error(`Path you want to find stuff in must be a directory ${t}`);return e.code="ENOTDIR",e},Jh=(t,e)=>{let r=[],n=Qa.create(t,e.matching,e.ignoreCase),i=1/0;return e.recursive===!1&&(i=1),Ya.sync(t,{maxLevelsDeep:i,symlinks:"follow",inspectOptions:{times:!0,absolutePath:!0}},(s,o)=>{o&&s!==t&&n(s)&&(o.type==="file"&&e.files===!0||o.type==="dir"&&e.directories===!0)&&(e.filter?e.filter(o)&&r.push(s):r.push(s))}),r.sort(),tu(r,e.cwd)},Qh=(t,e)=>{let r=Ja.sync(t,{symlinks:"follow"});if(r===void 0)throw ru(t);if(r.type!=="dir")throw nu(t);return Jh(t,eu(e))},Zh=(t,e)=>new Promise((r,n)=>{let i=[],s=Qa.create(t,e.matching,e.ignoreCase),o=1/0;e.recursive===!1&&(o=1);let a=0,u=!1,c=()=>{u&&a===0&&(i.sort(),r(tu(i,e.cwd)))};Ya.async(t,{maxLevelsDeep:o,symlinks:"follow",inspectOptions:{times:!0,absolutePath:!0}},(f,l)=>{if(l&&f!==t&&s(f)&&(l.type==="file"&&e.files===!0||l.type==="dir"&&e.directories===!0))if(e.filter){let g=e.filter(l);typeof g.then=="function"?(a+=1,g.then(x=>{x&&i.push(f),a-=1,c()}).catch(x=>{n(x)})):g&&i.push(f)}else i.push(f)},f=>{f?n(f):(u=!0,c())})}),ep=(t,e)=>Ja.async(t,{symlinks:"follow"}).then(r=>{if(r===void 0)throw ru(t);if(r.type!=="dir")throw nu(t);return Zh(t,eu(e))});Pr.validateInput=Yh;Pr.sync=Qh;Pr.async=ep});var au=F(Ar=>{"use strict";var tp=require("crypto"),Ir=require("path"),Lr=it(),ug=Or(),su=J(),ou=Dr(),rp=(t,e,r)=>{let n=`${t}(path, [options])`;if(su.argument(n,"path",e,["string"]),su.options(n,"options",r,{checksum:["string"],relativePath:["boolean"],times:["boolean"],symlinks:["string"]}),r&&r.checksum!==void 0&&Lr.supportedChecksumAlgorithms.indexOf(r.checksum)===-1)throw new Error(`Argument "options.checksum" passed to ${n} must have one of values: ${Lr.supportedChecksumAlgorithms.join(", ")}`);if(r&&r.symlinks!==void 0&&Lr.symlinkOptions.indexOf(r.symlinks)===-1)throw new Error(`Argument "options.symlinks" passed to ${n} must have one of values: ${Lr.symlinkOptions.join(", ")}`)},np=(t,e)=>t===void 0?".":t.relativePath+"/"+e.name,ip=(t,e)=>{let r=tp.createHash(e);return t.forEach(n=>{r.update(n.name+n[e])}),r.digest("hex")},ci=(t,e,r)=>{r.relativePath&&(e.relativePath=np(t,e)),e.type==="dir"&&(e.children.forEach(n=>{ci(e,n,r)}),e.size=0,e.children.sort((n,i)=>n.type==="dir"&&i.type==="file"?-1:n.type==="file"&&i.type==="dir"?1:n.name.localeCompare(i.name)),e.children.forEach(n=>{e.size+=n.size||0}),r.checksum&&(e[r.checksum]=ip(e.children,r.checksum)))},li=(t,e,r)=>{let n=e[0];if(e.length>1){let i=t.children.find(s=>s.name===n);return li(i,e.slice(1),r)}return t},sp=(t,e)=>{let r=e||{},n;return ou.sync(t,{inspectOptions:r},(i,s)=>{if(s){s.type==="dir"&&(s.children=[]);let o=Ir.relative(t,i);o===""?n=s:li(n,o.split(Ir.sep),s).children.push(s)}}),n&&ci(void 0,n,r),n},op=(t,e)=>{let r=e||{},n;return new Promise((i,s)=>{ou.async(t,{inspectOptions:r},(o,a)=>{if(a){a.type==="dir"&&(a.children=[]);let u=Ir.relative(t,o);u===""?n=a:li(n,u.split(Ir.sep),a).children.push(a)}},o=>{o?s(o):(n&&ci(void 0,n,r),i(n))})})};Ar.validateInput=rp;Ar.sync=sp;Ar.async=op});var Mr=F(Fr=>{"use strict";var uu=re(),ap=J(),up=(t,e)=>{let r=`${t}(path)`;ap.argument(r,"path",e,["string"])},cp=t=>{try{let e=uu.statSync(t);return e.isDirectory()?"dir":e.isFile()?"file":"other"}catch(e){if(e.code!=="ENOENT")throw e}return!1},lp=t=>new Promise((e,r)=>{uu.stat(t).then(n=>{n.isDirectory()?e("dir"):n.isFile()?e("file"):e("other")}).catch(n=>{n.code==="ENOENT"?e(!1):r(n)})});Fr.validateInput=up;Fr.sync=cp;Fr.async=lp});var di=F(Rr=>{"use strict";var xt=require("path"),ae=re(),fi=Ve(),_r=Mr(),cu=it(),fp=vt(),hp=ui(),lu=hr(),fu=Dr(),hi=J(),pp=(t,e,r,n)=>{let i=`${t}(from, to, [options])`;hi.argument(i,"from",e,["string"]),hi.argument(i,"to",r,["string"]),hi.options(i,"options",n,{overwrite:["boolean","function"],matching:["string","array of string"],ignoreCase:["boolean"]})},hu=(t,e)=>{let r=t||{},n={};return r.ignoreCase===void 0&&(r.ignoreCase=!1),n.overwrite=r.overwrite,r.matching?n.allowedToCopy=hp.create(e,r.matching,r.ignoreCase):n.allowedToCopy=()=>!0,n},pu=t=>{let e=new Error(`Path to copy doesn't exist ${t}`);return e.code="ENOENT",e},jr=t=>{let e=new Error(`Destination path already exists ${t}`);return e.code="EEXIST",e},kr={mode:!0,symlinks:"report",times:!0,absolutePath:!0},du=t=>typeof t.opts.overwrite!="function"&&t.opts.overwrite!==!0,dp=(t,e,r)=>{if(!_r.sync(t))throw pu(t);if(_r.sync(e)&&!r.overwrite)throw jr(e)},gp=t=>{if(typeof t.opts.overwrite=="function"){let e=cu.sync(t.destPath,kr);return t.opts.overwrite(t.srcInspectData,e)}return t.opts.overwrite===!0},mp=(t,e,r,n)=>{let i=ae.readFileSync(t);try{ae.writeFileSync(e,i,{mode:r,flag:"wx"})}catch(s){if(s.code==="ENOENT")fp.sync(e,i,{mode:r});else if(s.code==="EEXIST"){if(gp(n))ae.writeFileSync(e,i,{mode:r});else if(du(n))throw jr(n.destPath)}else throw s}},yp=(t,e)=>{let r=ae.readlinkSync(t);try{ae.symlinkSync(r,e)}catch(n){if(n.code==="EEXIST")ae.unlinkSync(e),ae.symlinkSync(r,e);else throw n}},vp=(t,e,r,n)=>{let i={srcPath:t,destPath:r,srcInspectData:e,opts:n},s=lu.normalizeFileMode(e.mode);e.type==="dir"?fi.createSync(r,{mode:s}):e.type==="file"?mp(t,r,s,i):e.type==="symlink"&&yp(t,r)},bp=(t,e,r)=>{let n=hu(r,t);dp(t,e,n),fu.sync(t,{inspectOptions:kr},(i,s)=>{let o=xt.relative(t,i),a=xt.resolve(e,o);n.allowedToCopy(i,a,s)&&vp(i,s,a,n)})},wp=(t,e,r)=>_r.async(t).then(n=>{if(n)return _r.async(e);throw pu(t)}).then(n=>{if(n&&!r.overwrite)throw jr(e)}),Ep=t=>new Promise((e,r)=>{typeof t.opts.overwrite=="function"?cu.async(t.destPath,kr).then(n=>{e(t.opts.overwrite(t.srcInspectData,n))}).catch(r):e(t.opts.overwrite===!0)}),pi=(t,e,r,n,i)=>new Promise((s,o)=>{let a=i||{},u="wx";a.overwrite&&(u="w");let c=ae.createReadStream(t),f=ae.createWriteStream(e,{mode:r,flags:u});c.on("error",o),f.on("error",l=>{c.resume(),l.code==="ENOENT"?fi.createAsync(xt.dirname(e)).then(()=>{pi(t,e,r,n).then(s,o)}).catch(o):l.code==="EEXIST"?Ep(n).then(p=>{p?pi(t,e,r,n,{overwrite:!0}).then(s,o):du(n)?o(jr(e)):s()}).catch(o):o(l)}),f.on("finish",s),c.pipe(f)}),xp=(t,e)=>ae.readlink(t).then(r=>new Promise((n,i)=>{ae.symlink(r,e).then(n).catch(s=>{s.code==="EEXIST"?ae.unlink(e).then(()=>ae.symlink(r,e)).then(n,i):i(s)})})),Op=(t,e,r,n)=>{let i={srcPath:t,destPath:r,srcInspectData:e,opts:n},s=lu.normalizeFileMode(e.mode);return e.type==="dir"?fi.createAsync(r,{mode:s}):e.type==="file"?pi(t,r,s,i):e.type==="symlink"?xp(t,r):Promise.resolve()},Tp=(t,e,r)=>new Promise((n,i)=>{let s=hu(r,t);wp(t,e,s).then(()=>{let o=!1,a=0;fu.async(t,{inspectOptions:kr},(u,c)=>{if(c){let f=xt.relative(t,u),l=xt.resolve(e,f);s.allowedToCopy(u,c,l)&&(a+=1,Op(u,c,l,s).then(()=>{a-=1,o&&a===0&&n()}).catch(i))}},u=>{u?i(u):(o=!0,o&&a===0&&n())})}).catch(i)});Rr.validateInput=pp;Rr.sync=bp;Rr.async=Tp});var mi=F(Xr=>{"use strict";var gu=require("path"),st=re(),gi=J(),mu=di(),yu=Ve(),Ot=Mr(),qr=dr(),Np=(t,e,r,n)=>{let i=`${t}(from, to, [options])`;gi.argument(i,"from",e,["string"]),gi.argument(i,"to",r,["string"]),gi.options(i,"options",n,{overwrite:["boolean"]})},vu=t=>t||{},bu=t=>{let e=new Error(`Destination path already exists ${t}`);return e.code="EEXIST",e},wu=t=>{let e=new Error(`Path to move doesn't exist ${t}`);return e.code="ENOENT",e},Sp=(t,e,r)=>{let n=vu(r);if(Ot.sync(e)!==!1&&n.overwrite!==!0)throw bu(e);try{st.renameSync(t,e)}catch(i){if(i.code==="EISDIR"||i.code==="EPERM")qr.sync(e),st.renameSync(t,e);else if(i.code==="EXDEV")mu.sync(t,e,{overwrite:!0}),qr.sync(t);else if(i.code==="ENOENT"){if(!Ot.sync(t))throw wu(t);yu.createSync(gu.dirname(e)),st.renameSync(t,e)}else throw i}},Dp=t=>new Promise((e,r)=>{let n=gu.dirname(t);Ot.async(n).then(i=>{i?r():yu.createAsync(n).then(e,r)}).catch(r)}),Cp=(t,e,r)=>{let n=vu(r);return new Promise((i,s)=>{Ot.async(e).then(o=>{o!==!1&&n.overwrite!==!0?s(bu(e)):st.rename(t,e).then(i).catch(a=>{a.code==="EISDIR"||a.code==="EPERM"?qr.async(e).then(()=>st.rename(t,e)).then(i,s):a.code==="EXDEV"?mu.async(t,e,{overwrite:!0}).then(()=>qr.async(t)).then(i,s):a.code==="ENOENT"?Ot.async(t).then(u=>{u?Dp(e).then(()=>st.rename(t,e)).then(i,s):s(wu(t))}).catch(s):s(a)})})})};Xr.validateInput=Np;Xr.sync=Sp;Xr.async=Cp});var Su=F(Br=>{"use strict";var Eu=re(),xu=J(),Ou=["utf8","buffer","json","jsonWithDates"],Pp=(t,e,r)=>{let n=`${t}(path, returnAs)`;if(xu.argument(n,"path",e,["string"]),xu.argument(n,"returnAs",r,["string","undefined"]),r&&Ou.indexOf(r)===-1)throw new Error(`Argument "returnAs" passed to ${n} must have one of values: ${Ou.join(", ")}`)},Tu=(t,e)=>typeof e=="string"&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/.exec(e)?new Date(e):e,Nu=(t,e)=>{let r=new Error(`JSON parsing failed while reading ${t} [${e}]`);return r.originalError=e,r},Ip=(t,e)=>{let r=e||"utf8",n,i="utf8";r==="buffer"&&(i=null);try{n=Eu.readFileSync(t,{encoding:i})}catch(s){if(s.code==="ENOENT")return;throw s}try{r==="json"?n=JSON.parse(n):r==="jsonWithDates"&&(n=JSON.parse(n,Tu))}catch(s){throw Nu(t,s)}return n},Lp=(t,e)=>new Promise((r,n)=>{let i=e||"utf8",s="utf8";i==="buffer"&&(s=null),Eu.readFile(t,{encoding:s}).then(o=>{try{r(i==="json"?JSON.parse(o):i==="jsonWithDates"?JSON.parse(o,Tu):o)}catch(a){n(Nu(t,a))}}).catch(o=>{o.code==="ENOENT"?r(void 0):n(o)})});Br.validateInput=Pp;Br.sync=Ip;Br.async=Lp});var Cu=F(Ur=>{"use strict";var Tt=require("path"),Du=mi(),yi=J(),Ap=(t,e,r,n)=>{let i=`${t}(path, newName, [options])`;if(yi.argument(i,"path",e,["string"]),yi.argument(i,"newName",r,["string"]),yi.options(i,"options",n,{overwrite:["boolean"]}),Tt.basename(r)!==r)throw new Error(`Argument "newName" passed to ${i} should be a filename, not a path. Received "${r}"`)},Fp=(t,e,r)=>{let n=Tt.join(Tt.dirname(t),e);Du.sync(t,n,r)},Mp=(t,e,r)=>{let n=Tt.join(Tt.dirname(t),e);return Du.async(t,n,r)};Ur.validateInput=Ap;Ur.sync=Fp;Ur.async=Mp});var Au=F(zr=>{"use strict";var Pu=require("path"),$r=re(),Iu=J(),Lu=Ve(),_p=(t,e,r)=>{let n=`${t}(symlinkValue, path)`;Iu.argument(n,"symlinkValue",e,["string"]),Iu.argument(n,"path",r,["string"])},jp=(t,e)=>{try{$r.symlinkSync(t,e)}catch(r){if(r.code==="ENOENT")Lu.createSync(Pu.dirname(e)),$r.symlinkSync(t,e);else throw r}},kp=(t,e)=>new Promise((r,n)=>{$r.symlink(t,e).then(r).catch(i=>{i.code==="ENOENT"?Lu.createAsync(Pu.dirname(e)).then(()=>$r.symlink(t,e)).then(r,n):n(i)})});zr.validateInput=_p;zr.sync=jp;zr.async=kp});var Mu=F(vi=>{"use strict";var Fu=require("fs");vi.createWriteStream=Fu.createWriteStream;vi.createReadStream=Fu.createReadStream});var Xu=F(Vr=>{"use strict";var bi=require("path"),Rp=require("os"),_u=require("crypto"),ju=Ve(),ku=re(),qp=J(),Xp=(t,e)=>{let r=`${t}([options])`;qp.options(r,"options",e,{prefix:["string"],basePath:["string"]})},Ru=(t,e)=>{t=t||{};let r={};return typeof t.prefix!="string"?r.prefix="":r.prefix=t.prefix,typeof t.basePath=="string"?r.basePath=bi.resolve(e,t.basePath):r.basePath=Rp.tmpdir(),r},qu=32,Bp=(t,e)=>{let r=Ru(e,t),n=_u.randomBytes(qu/2).toString("hex"),i=bi.join(r.basePath,r.prefix+n);try{ku.mkdirSync(i)}catch(s){if(s.code==="ENOENT")ju.sync(i);else throw s}return i},Up=(t,e)=>new Promise((r,n)=>{let i=Ru(e,t);_u.randomBytes(qu/2,(s,o)=>{if(s)n(s);else{let a=o.toString("hex"),u=bi.join(i.basePath,i.prefix+a);ku.mkdir(u,c=>{c?c.code==="ENOENT"?ju.async(u).then(()=>{r(u)},n):n(c):r(u)})}})});Vr.validateInput=Xp;Vr.sync=Bp;Vr.async=Up});var Vu=F((vg,zu)=>{"use strict";var Bu=require("util"),wi=require("path"),Wr=ba(),Hr=Ve(),Kr=Oa(),Gr=iu(),Yr=it(),Jr=au(),Qr=di(),Zr=Mr(),en=Or(),tn=mi(),rn=Su(),nn=dr(),sn=Cu(),on=Au(),Uu=Mu(),an=Xu(),un=vt(),$u=t=>{let e=()=>t||process.cwd(),r=function(){if(arguments.length===0)return e();let a=Array.prototype.slice.call(arguments),u=[e()].concat(a);return $u(wi.resolve.apply(null,u))},n=a=>wi.resolve(e(),a),i=function(){return Array.prototype.unshift.call(arguments,e()),wi.resolve.apply(null,arguments)},s=a=>{let u=a||{};return u.cwd=e(),u},o={cwd:r,path:i,append:(a,u,c)=>{Wr.validateInput("append",a,u,c),Wr.sync(n(a),u,c)},appendAsync:(a,u,c)=>(Wr.validateInput("appendAsync",a,u,c),Wr.async(n(a),u,c)),copy:(a,u,c)=>{Qr.validateInput("copy",a,u,c),Qr.sync(n(a),n(u),c)},copyAsync:(a,u,c)=>(Qr.validateInput("copyAsync",a,u,c),Qr.async(n(a),n(u),c)),createWriteStream:(a,u)=>Uu.createWriteStream(n(a),u),createReadStream:(a,u)=>Uu.createReadStream(n(a),u),dir:(a,u)=>{Hr.validateInput("dir",a,u);let c=n(a);return Hr.sync(c,u),r(c)},dirAsync:(a,u)=>(Hr.validateInput("dirAsync",a,u),new Promise((c,f)=>{let l=n(a);Hr.async(l,u).then(()=>{c(r(l))},f)})),exists:a=>(Zr.validateInput("exists",a),Zr.sync(n(a))),existsAsync:a=>(Zr.validateInput("existsAsync",a),Zr.async(n(a))),file:(a,u)=>(Kr.validateInput("file",a,u),Kr.sync(n(a),u),o),fileAsync:(a,u)=>(Kr.validateInput("fileAsync",a,u),new Promise((c,f)=>{Kr.async(n(a),u).then(()=>{c(o)},f)})),find:(a,u)=>(typeof u=="undefined"&&typeof a=="object"&&(u=a,a="."),Gr.validateInput("find",a,u),Gr.sync(n(a),s(u))),findAsync:(a,u)=>(typeof u=="undefined"&&typeof a=="object"&&(u=a,a="."),Gr.validateInput("findAsync",a,u),Gr.async(n(a),s(u))),inspect:(a,u)=>(Yr.validateInput("inspect",a,u),Yr.sync(n(a),u)),inspectAsync:(a,u)=>(Yr.validateInput("inspectAsync",a,u),Yr.async(n(a),u)),inspectTree:(a,u)=>(Jr.validateInput("inspectTree",a,u),Jr.sync(n(a),u)),inspectTreeAsync:(a,u)=>(Jr.validateInput("inspectTreeAsync",a,u),Jr.async(n(a),u)),list:a=>(en.validateInput("list",a),en.sync(n(a||"."))),listAsync:a=>(en.validateInput("listAsync",a),en.async(n(a||"."))),move:(a,u,c)=>{tn.validateInput("move",a,u,c),tn.sync(n(a),n(u),c)},moveAsync:(a,u,c)=>(tn.validateInput("moveAsync",a,u,c),tn.async(n(a),n(u),c)),read:(a,u)=>(rn.validateInput("read",a,u),rn.sync(n(a),u)),readAsync:(a,u)=>(rn.validateInput("readAsync",a,u),rn.async(n(a),u)),remove:a=>{nn.validateInput("remove",a),nn.sync(n(a||"."))},removeAsync:a=>(nn.validateInput("removeAsync",a),nn.async(n(a||"."))),rename:(a,u,c)=>{sn.validateInput("rename",a,u,c),sn.sync(n(a),u,c)},renameAsync:(a,u,c)=>(sn.validateInput("renameAsync",a,u,c),sn.async(n(a),u,c)),symlink:(a,u)=>{on.validateInput("symlink",a,u),on.sync(a,n(u))},symlinkAsync:(a,u)=>(on.validateInput("symlinkAsync",a,u),on.async(a,n(u))),tmpDir:a=>{an.validateInput("tmpDir",a);let u=an.sync(e(),a);return r(u)},tmpDirAsync:a=>(an.validateInput("tmpDirAsync",a),new Promise((u,c)=>{an.async(e(),a).then(f=>{u(r(f))},c)})),write:(a,u,c)=>{un.validateInput("write",a,u,c),un.sync(n(a),u,c)},writeAsync:(a,u,c)=>(un.validateInput("writeAsync",a,u,c),un.async(n(a),u,c))};return Bu.inspect.custom!==void 0&&(o[Bu.inspect.custom]=()=>`[fs-jetpack CWD: ${e()}]`),o};zu.exports=$u});var cn=F((bg,Wu)=>{"use strict";var $p=Vu();Wu.exports=$p()});En(exports,{default:()=>Bi});var te=he(require("obsidian"));var Hu=he(po()),Ku=he(require("path")),Gu=he(Qo()),ot=he(cn());function Ei(t){return t.replace(/[/|\\:*?"<>]/g,"")}var V=class{constructor(...e){if(e.length>1){let r=new V(V.join(...e));this.data=r.data,this.sep=r.sep}else{let r=e[0],n="/";r.includes("\\")&&(n="\\"),r.includes("/")&&(n="/"),r===n||r===""?this.data=[]:this.data=r.split(n).filter(i=>i!=""),this.sep=n}}getParent(e=1){return new V(this.data.slice(0,-e).join(this.sep))}join(...e){let r=new V(this.data.join(this.sep));return e.forEach(n=>{r.data.push(...new V(n).data)}),r}static join(...e){return new V(e[0]).join(...e.slice(1)).string}withName(e){return this.getParent().join(e)}withStem(e){return this.getParent().join(e+"."+this.suffix)}withSuffix(e,r=!1){return r?this.getParent().join(this.name+"."+e):this.getParent().join(this.stem+"."+e)}get length(){return this.data.length}get parent(){return this.getParent()}get name(){return this.data[this.data.length-1]}get stem(){let e=this.name.split(".");return e.length>1&&e.pop(),e.join(".")}get suffix(){let e=this.name.split(".");return e.length>1?e.pop():""}get string(){let e=this.data[0],r=this.data.map(Ei);return e.length==2&&e[1]==":"&&(r[0]=r[0]+":"),r.join(this.sep)}};var xi=class{constructor(e,r){this.name=e,this.url=r;let[n,i]=r.split("#");this.urlPath=n,this.urlHref=i??"",this.html=""}},Oi=class{constructor(e,r,n=new Array,i=0,s=null){this.sections=[new xi(e,r)],this.subItems=n,this.level=i,this.parent=s}get name(){return this.sections[0].name??""}},Ti=class{constructor(e,r){this.epubPath=e,this.moreLog=r}async init(){try{this.tmpPath=ot.default.tmpDir().path(),this.moreLog&&console.log("tmp folder path is: ",this.tmpPath),new V(this.epubPath).suffix!=""?await(0,Gu.default)(this.epubPath,{dir:this.tmpPath}):ot.default.copy(this.epubPath,this.tmpPath,{overwrite:!0}),[this.opfFilePath,this.opfContent]=await this.parseBySuffix("opf"),[this.ncxFilePath,this.ncxContent]=await this.parseBySuffix("ncx"),await this.parseToc(),await this.parseCover(),await this.parseMeta()}catch(e){throw console.log(e),new Error("failed to parse the .epub file")}}async parseBySuffix(e){let r=new Hu.Parser,n=Ku.join(this.tmpPath,ot.default.cwd(this.tmpPath).find({matching:`**/**.${e}`})[0]),i=ot.default.read(n);return[n,await r.parseStringPromise(i)]}generateToc(){let e=this.ncxContent.ncx.navMap[0].navPoint,r=(a,u)=>{let c=new Oi(a.navLabel[0].text[0],new V(this.ncxFilePath).parent.join(a.content[0].$.src).string,a.navPoint?.map(f=>r(f,u+1))??[],u);return c.subItems.forEach(f=>f.parent=c),c};this.toc=e.map(a=>r(a,0));let n=a=>{this.chapters.push(a),a.subItems.forEach(n,a)};this.chapters=[],this.toc.forEach(n);let i=this.opfContent.package.manifest[0].item.map(a=>a.$.href).filter(a=>[".html",".xhtml"].some(u=>a.includes(u))).map(a=>new V(this.opfFilePath).parent.join(a).string),s=[];this.chapters.forEach(a=>{s.push(i.indexOf(a.sections[0].urlPath))});let o=0;i.forEach((a,u)=>{if(!s.includes(u)){let c=s.indexOf([...s].sort((f,l)=>l-f).find(f=>f<u));c>0?this.chapters[c].sections.push(new xi(null,a)):this.toc.splice(o++,0,new Oi(new V(a).stem,a))}}),this.chapters=[],this.toc.forEach(n),this.sections=this.chapters.flatMap(a=>a.sections)}async parseToc(){this.generateToc();let e=[...new Set(this.sections.map(n=>n.urlPath))],r=[];e.forEach(n=>{let i={url:n,names:[],hrefs:[],html:""};this.sections.filter(o=>o.urlPath==n).forEach(o=>{i.names.push(o.name?Ei(o.name):null),i.hrefs.push(o.urlHref)});let s=ot.default.read(n);s&&(i.html=s),r.push(i)}),r.forEach(n=>{if(!n.hrefs.length||n.hrefs.length===1&&n.hrefs[0]==="")this.sections.find(i=>i.urlPath==n.url).html=n.html;else{let i=new RegExp(`<.*?id=['"](?:${n.hrefs.join("|")})['"].*?>`,"g"),o=((u,c,f)=>{let l=u.split(c);return f>l.length&&(f=l.length),l.slice(0,f-1).concat([l.slice(f-1).join(c)])})(n.html,i,n.hrefs.length+1);n.hrefs[0]!=""&&o.shift();let a=n.hrefs.map(u=>u?"#"+u:"");o.forEach((u,c)=>{try{this.sections.find(f=>f.url==n.url+a[c]).html=u}catch(f){console.warn("Some errors occurred when we split a .html/.xhtml file to sections")}})}})}async parseCover(){let e=this.opfContent.package.manifest[0].item.find(r=>["cover","Cover"].some(n=>r.$.id.includes(n))&&["png","jpg","jpeg"].includes(new V(r.$.href).suffix));e&&(this.coverPath=new V(this.opfFilePath).parent.join(e.$.href).string)}async parseMeta(){let e=this.opfContent.package.metadata[0];this.meta={title:e["dc:title"]?.[0]?`"${e["dc:title"]?.[0]}"`:"",author:e["dc:creator"]?.[0]?._?`"${e["dc:creator"]?.[0]?._}"`:"",publisher:e["dc:publisher"]?.[0]?`"${e["dc:publisher"]?.[0]}"`:"",language:e["dc:language"]?.[0]?`"${e["dc:language"]?.[0]}"`:"",bookName:new V(this.epubPath).stem?`"${new V(this.epubPath).stem}"`:""}}};var fn=he(cn());var ln=he(require("obsidian")),Ni=class extends ln.SuggestModal{constructor(e,r,n=!1){super(e);this.onSubmit=r;this.onSubmit=r,n&&this.listenForPaste()}listenForPaste(){this.inputEl.addEventListener("paste",e=>{let r=e.clipboardData;if(r.files.length===1){let n=r.files[0].path;this.inputEl.value=n}})}listenForEnter(e){this.inputEl.addEventListener("keyup",r=>{r.key==="Enter"&&this.inputEl.value&&this.trySubmit(this.inputEl.value,e)})}trySubmit(e,r){r(e)?(this.onSubmit(e),this.close()):new ln.Notice("Invalid value.")}};var Si=class extends Ni{constructor(e,r,n){super(e,n,!0);this.libraries=r,this.listenForEnter(this.validatePath)}validatePath(e){return fn.default.exists(e)==="file"&&e.endsWith(".epub")}getSuggestions(e){let r=[];return this.libraries.forEach(n=>{fn.default.find(n,{matching:"**/*.epub"}).forEach(i=>{r.push(fn.default.path(i))})}),r.filter(n=>n.includes(e))}renderSuggestion(e,r){r.createEl("div",{text:e})}onChooseSuggestion(e){this.trySubmit(e,this.validatePath)}};var Nt=class{static parse(e,r,n){let i=new Nt(e);return i.parseImagePath(r,n),i.parseFontNote(),i.parseInnerLink(),i.parseHttpLink(),i.content}constructor(e){this.content=e}parseImagePath(e,r){this.content=this.content.replaceAll(/!\[.*?\]\((.*?)\.(jpg|jpeg|png)\)/g,"![](images/$1.$2)").replaceAll(/!\[\].*?\(.*?([^\\/]*)\.(jpg|jpeg|png)\)/g,"![](images/$1.$2)"),r=="![](imagePath)"&&(e=e.replaceAll(" ","%20")),r=="![[imagePath]]"&&(this.content=this.content.replaceAll(/!\[\]\(([^)]*images[^)]*)\)/g,"![[$1]]")),r=="![[imagePath|caption]]"&&(this.content=this.content.replaceAll(/!\[\]\(([^)]*images[^)]*)\)/g,"![[$1]]"),this.content=this.content.replaceAll(/!\[\[(.*images.*)\]\]\n+(\**.*)\n/g,`![[$1|$2]]
`)),this.content=this.content.replaceAll(/images/g,e)}parseFontNote(){this.content=this.content.replace(/([^!])\[\[(\d+)\]\]\(.*?\)/g,"$1[^$2]"),this.content=this.content.replace(/([^!])\[(\d+)\]\(.*?\)/g,"$1[^$2]"),this.content=this.content.replace(/^(\[\^\d+\])(.*?)$/gm,"$1: $2")}parseInnerLink(){this.content=this.content.replaceAll(/([^!])\[\s*([^\]]*?)\s*\]\(\s*([^)]*?)\s*\)/g,"$1[[$3\\|$2]]")}parseHttpLink(){this.content=this.content.replaceAll(/\[\[(https:\/\/[^\]|]*?)(?:\|([^\]]*?))?]]/g,"[$2]($1)")}};var Yu={tag:"book",libraries:[],byDrag:!1,savePath:"",assetsPath:"{{savePath}}/{{bookName}}/images",granularity:4,mocName:"{{bookName}}",notePropertysTemplate:"",oneNote:!1,oneFolder:!0,mocPropertysTemplate:`title: {{bookName}}
author: {{author}}
publisher: {{publisher}}
status: false`,imageFormat:"![](imagePath)",autoOpenRightPanel:!1,allbooks:!1,removeDuplicateFolders:!1,moreLog:!1};var K=he(require("obsidian"));function Q(t){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(t)}function ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Di(t,e){if(Q(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Q(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function St(t){var e=Di(t,"string");return Q(e)==="symbol"?e:String(e)}function Ju(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function ce(t,e,r){return e&&Ju(t.prototype,e),r&&Ju(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t,e){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dt(t,e)}function at(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dt(t,e)}function We(t,e){if(e&&(Q(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return me(t)}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},le(t)}function xe(t,e,r){return e=St(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ci(t){if(Array.isArray(t))return t}function Pi(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ii(t,e){if(!!t){if(typeof t=="string")return hn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hn(t,e)}}function Li(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ai(t){return Ci(t)||Pi(t)||Ii(t)||Li()}function Qu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qu(Object(r),!0).forEach(function(n){xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qu(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zp={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},Vp=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ue(this,t),this.init(e,r)}return ce(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||zp,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,s){return s&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,Zu(Zu({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Oe=new Vp,Be=function(){function t(){ue(this,t),this.observers={}}return ce(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(n)}),this}},{key:"off",value:function(r,n){if(!!this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(u){u.apply(u,[r].concat(i))})}}}]),t}();function Ct(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function ec(t){return t==null?"":""+t}function Wp(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function Fi(t,e,r){function n(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=n(s.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(s.shift())}}function tc(t,e,r){var n=Fi(t,e,Object),i=n.obj,s=n.k;i[s]=r}function Hp(t,e,r,n){var i=Fi(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],n&&(s[o]=s[o].concat(r)),n||s[o].push(r)}function pn(t,e){var r=Fi(t,e),n=r.obj,i=r.k;if(!!n)return n[i]}function Kp(t,e,r){var n=pn(t,r);return n!==void 0?n:pn(e,r)}function rc(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):rc(t[n],e[n],r):t[n]=e[n]);return t}function ut(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Gp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Yp(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return Gp[e]}):t}var dn=typeof window!="undefined"&&window.navigator&&typeof window.navigator.userAgentData=="undefined"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Jp=[" ",",","?","!",";"];function Qp(t,e,r){e=e||"",r=r||"";var n=Jp.filter(function(a){return e.indexOf(a)<0&&r.indexOf(a)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(a){return a==="?"?"\\?":a}).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function gn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var n=e.split(r),i=t,s=0;s<n.length;++s){if(!i||typeof i[n[s]]=="string"&&s+1<n.length)return;if(i[n[s]]===void 0){for(var o=2,a=n.slice(s,s+o).join(r),u=i[a];u===void 0&&n.length>s+o;)o++,a=n.slice(s,s+o).join(r),u=i[a];if(u===void 0)return;if(u===null)return null;if(e.endsWith(a)){if(typeof u=="string")return u;if(a&&typeof u[a]=="string")return u[a]}var c=n.slice(s+o).join(r);return c?gn(u,c,r):void 0}i=i[n[s]]}return i}}function nc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nc(Object(r),!0).forEach(function(n){xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zp(t){var e=ed();return function(){var n=le(t),i;if(e){var s=le(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return We(this,i)}}function ed(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var td=function(t){at(r,t);var e=Zp(r);function r(n){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return ue(this,r),i=e.call(this),dn&&Be.call(me(i)),i.data=n||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return ce(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[i,s];o&&typeof o!="string"&&(f=f.concat(o)),o&&typeof o=="string"&&(f=f.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(f=i.split("."));var l=pn(this.data,f);return l||!c||typeof o!="string"?l:gn(this.data&&this.data[i]&&this.data[i][s],o,u)}},{key:"addResource",value:function(i,s,o,a){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},c=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,f=[i,s];o&&(f=f.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(f=i.split("."),a=s,s=f[1]),this.addNamespaces(s),tc(this.data,f,a),u.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in o)(typeof o[u]=="string"||Object.prototype.toString.apply(o[u])==="[object Array]")&&this.addResource(i,s,u,o[u],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},f=[i,s];i.indexOf(".")>-1&&(f=i.split("."),a=o,o=s,s=f[1]),this.addNamespaces(s);var l=pn(this.data,f)||{};a?rc(l,o,u):l=mn(mn({},l),o),tc(this.data,f,l),c.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?mn(mn({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),o=s&&Object.keys(s)||[];return!!o.find(function(a){return s[a]&&Object.keys(s[a]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Be),ic={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,s){var o=this;return e.forEach(function(a){o.processors[a]&&(r=o.processors[a].process(r,n,i,s))}),r}};function sc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sc(Object(r),!0).forEach(function(n){xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rd(t){var e=nd();return function(){var n=le(t),i;if(e){var s=le(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return We(this,i)}}function nd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var oc={},ac=function(t){at(r,t);var e=rd(r);function r(n){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ue(this,r),i=e.call(this),dn&&Be.call(me(i)),Wp(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,me(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Oe.create("translator"),i}return ce(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ns||this.options.defaultNS||[],c=o&&i.indexOf(o)>-1,f=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Qp(i,o,a);if(c&&!f){var l=i.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:i,namespaces:u};var p=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(p[0])>-1)&&(u=p.shift()),i=p.join(a)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,s,o){var a=this;if(Q(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),Q(s)==="object"&&(s=Z({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=this.extractFromKey(i[i.length-1],s),l=f.key,p=f.namespaces,g=p[p.length-1],v=s.lng||this.language,x=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v&&v.toLowerCase()==="cimode"){if(x){var S=s.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(g).concat(S).concat(l),usedKey:l,exactUsedKey:l,usedLng:v,usedNS:g}:"".concat(g).concat(S).concat(l)}return u?{res:l,usedKey:l,exactUsedKey:l,usedLng:v,usedNS:g}:l}var N=this.resolve(i,s),O=N&&N.res,b=N&&N.usedKey||l,h=N&&N.exactUsedKey||l,d=Object.prototype.toString.apply(O),E=["[object Number]","[object Function]","[object RegExp]"],D=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,P=typeof O!="string"&&typeof O!="boolean"&&typeof O!="number";if(y&&O&&P&&E.indexOf(d)<0&&!(typeof D=="string"&&d==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,O,Z(Z({},s),{},{ns:p})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return u?(N.res=T,N):T}if(c){var I=d==="[object Array]",A=I?[]:{},M=I?h:b;for(var k in O)if(Object.prototype.hasOwnProperty.call(O,k)){var R="".concat(M).concat(c).concat(k);A[k]=this.translate(R,Z(Z({},s),{joinArrays:!1,ns:p})),A[k]===R&&(A[k]=O[k])}O=A}}else if(y&&typeof D=="string"&&d==="[object Array]")O=O.join(D),O&&(O=this.extendTranslation(O,i,s,o));else{var _=!1,$=!1,q=s.count!==void 0&&typeof s.count!="string",fe=r.hasDefaultValue(s),ne=q?this.pluralResolver.getSuffix(v,s.count,s):"",Se=s["defaultValue".concat(ne)]||s.defaultValue;!this.isValidLookup(O)&&fe&&(_=!0,O=Se),this.isValidLookup(O)||($=!0,O=l);var It=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Lt=It&&$?void 0:O,Fe=fe&&Se!==O&&this.options.updateMissing;if($||_||Fe){if(this.logger.log(Fe?"updateKey":"missingKey",v,g,l,Fe?Se:O),c){var At=this.resolve(l,Z(Z({},s),{},{keySeparator:!1}));At&&At.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var w=[],m=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&m&&m[0])for(var L=0;L<m.length;L++)w.push(m[L]);else this.options.saveMissingTo==="all"?w=this.languageUtils.toResolveHierarchy(s.lng||this.language):w.push(s.lng||this.language);var C=function(z,W,G){var ee=fe&&G!==O?G:Lt;a.options.missingKeyHandler?a.options.missingKeyHandler(z,g,W,ee,Fe,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(z,g,W,ee,Fe,s),a.emit("missingKey",z,g,W,O)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?w.forEach(function(U){a.pluralResolver.getSuffixes(U,s).forEach(function(z){C([U],l+z,s["defaultValue".concat(z)]||Se)})}):C(w,l,Se))}O=this.extendTranslation(O,i,s,N,o),$&&O===l&&this.options.appendNamespaceToMissingKey&&(O="".concat(g,":").concat(l)),($||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?O=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(g,":").concat(l):l,_?O:void 0):O=this.options.parseMissingKeyHandler(O))}return u?(N.res=O,N):O}},{key:"extendTranslation",value:function(i,s,o,a,u){var c=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Z(Z({},this.options.interpolation.defaultVariables),o),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Z(Z({},o),{interpolation:Z(Z({},this.options.interpolation),o.interpolation)}));var f=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(f){var p=i.match(this.interpolator.nestingRegexp);l=p&&p.length}var g=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(g=Z(Z({},this.options.interpolation.defaultVariables),g)),i=this.interpolator.interpolate(i,g,o.lng||this.language,o),f){var v=i.match(this.interpolator.nestingRegexp),x=v&&v.length;l<x&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(o.lng=a.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var O=arguments.length,b=new Array(O),h=0;h<O;h++)b[h]=arguments[h];return u&&u[0]===b[0]&&!o.context?(c.logger.warn("It seems you are nesting recursively key: ".concat(b[0]," in key: ").concat(s[0])),null):c.translate.apply(c,b.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var S=o.postProcess||this.options.postProcess,N=typeof S=="string"?[S]:S;return i!=null&&N&&N.length&&o.applyPostProcessor!==!1&&(i=ic.handle(N,i,s,this.options&&this.options.postProcessPassResolved?Z({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,u,c,f,l;return typeof i=="string"&&(i=[i]),i.forEach(function(p){if(!s.isValidLookup(a)){var g=s.extractFromKey(p,o),v=g.key;u=v;var x=g.namespaces;s.options.fallbackNS&&(x=x.concat(s.options.fallbackNS));var S=o.count!==void 0&&typeof o.count!="string",N=S&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),O=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",b=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);x.forEach(function(h){s.isValidLookup(a)||(l=h,!oc["".concat(b[0],"-").concat(h)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(l)&&(oc["".concat(b[0],"-").concat(h)]=!0,s.logger.warn('key "'.concat(u,'" for languages "').concat(b.join(", "),`" won't get resolved as namespace "`).concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(function(d){if(!s.isValidLookup(a)){f=d;var E=[v];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(E,v,d,h,o);else{var D;S&&(D=s.pluralResolver.getSuffix(d,o.count,o));var y="".concat(s.options.pluralSeparator,"zero");if(S&&(E.push(v+D),N&&E.push(v+y)),O){var P="".concat(v).concat(s.options.contextSeparator).concat(o.context);E.push(P),S&&(E.push(P+D),N&&E.push(P+y))}}for(var T;T=E.pop();)s.isValidLookup(a)||(c=T,a=s.getResource(d,h,T,o))}}))})}}),{res:a,usedKey:u,exactUsedKey:c,usedLng:f,usedNS:l}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),r}(Be);function Mi(t){return t.charAt(0).toUpperCase()+t.slice(1)}var uc=function(){function t(e){ue(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Oe.create("languageUtils")}return ce(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Mi(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=Mi(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=Mi(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(s){if(!i){var o=n.formatLanguageCode(s);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(s){if(!i){var o=n.getLanguagePartFromCode(s);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(a){if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&a.indexOf(o)===0)return a})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,s=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],a=function(c){!c||(i.isSupportedCode(c)?o.push(c):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(c)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(r))):typeof r=="string"&&a(this.formatLanguageCode(r)),s.forEach(function(u){o.indexOf(u)<0&&a(i.formatLanguageCode(u))}),o}}]),t}(),id=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],sd={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},od=["v1","v2","v3"],cc={zero:0,one:1,two:2,few:3,many:4,other:5};function ad(){var t={};return id.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:sd[e.fc]}})}),t}var ud=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ue(this,t),this.languageUtils=e,this.options=r,this.logger=Oe.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ad()}return ce(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch(i){return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(s){return"".concat(n).concat(s)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(r,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,a){return cc[o]-cc[a]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):s.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(r,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(n)):this.getSuffixRetroCompatible(s,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,s=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[s];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!od.includes(this.options.compatibilityJSON)}}]),t}();function lc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lc(Object(r),!0).forEach(function(n){xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fc(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Kp(t,e,r);return!s&&i&&typeof r=="string"&&(s=gn(t,r,n),s===void 0&&(s=gn(e,r,n))),s}var cd=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ue(this,t),this.logger=Oe.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return ce(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:Yp,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ut(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ut(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ut(n.nestingPrefix):n.nestingPrefixEscaped||ut("$t("),this.nestingSuffix=n.nestingSuffix?ut(n.nestingSuffix):n.nestingSuffixEscaped||ut(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,s){var o=this,a,u,c,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(S){return S.replace(/\$/g,"$$$$")}var p=function(N){if(N.indexOf(o.formatSeparator)<0){var O=fc(n,f,N,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(O,void 0,i,ye(ye(ye({},s),n),{},{interpolationkey:N})):O}var b=N.split(o.formatSeparator),h=b.shift().trim(),d=b.join(o.formatSeparator).trim();return o.format(fc(n,f,h,o.options.keySeparator,o.options.ignoreJSONStructure),d,i,ye(ye(ye({},s),n),{},{interpolationkey:h}))};this.resetRegExp();var g=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,x=[{regex:this.regexpUnescape,safeValue:function(N){return l(N)}},{regex:this.regexp,safeValue:function(N){return o.escapeValue?l(o.escape(N)):l(N)}}];return x.forEach(function(S){for(c=0;a=S.regex.exec(r);){var N=a[1].trim();if(u=p(N),u===void 0)if(typeof g=="function"){var O=g(r,a,s);u=typeof O=="string"?O:""}else if(s&&Object.prototype.hasOwnProperty.call(s,N))u="";else if(v){u=a[0];continue}else o.logger.warn("missed to pass in variable ".concat(N," for interpolating ").concat(r)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=ec(u));var b=S.safeValue(u);if(r=r.replace(a[0],b),v?(S.regex.lastIndex+=u.length,S.regex.lastIndex-=a[0].length):S.regex.lastIndex=0,c++,c>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,u;function c(g,v){var x=this.nestingOptionsSeparator;if(g.indexOf(x)<0)return g;var S=g.split(new RegExp("".concat(x,"[ ]*{"))),N="{".concat(S[1]);g=S[0],N=this.interpolate(N,u);var O=N.match(/'/g),b=N.match(/"/g);(O&&O.length%2==0&&!b||b.length%2!=0)&&(N=N.replace(/'/g,'"'));try{u=JSON.parse(N),v&&(u=ye(ye({},v),u))}catch(h){return this.logger.warn("failed parsing options string in nesting for key ".concat(g),h),"".concat(g).concat(x).concat(N)}return delete u.defaultValue,g}for(;o=this.nestingRegexp.exec(r);){var f=[];u=ye({},s),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var l=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var p=o[1].split(this.formatSeparator).map(function(g){return g.trim()});o[1]=p.shift(),f=p,l=!0}if(a=n(c.call(this,o[1].trim(),u),u),a&&o[0]===r&&typeof a!="string")return a;typeof a!="string"&&(a=ec(a)),a||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),a=""),l&&(a=f.reduce(function(g,v){return i.format(g,v,s.lng,ye(ye({},s),{},{interpolationkey:o[1].trim()}))},a.trim())),r=r.replace(o[0],a),this.regexp.lastIndex=0}return r}}]),t}();function hc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hc(Object(r),!0).forEach(function(n){xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ld(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var s=i.split(";");s.forEach(function(o){if(!!o){var a=o.split(":"),u=Ai(a),c=u[0],f=u.slice(1),l=f.join(":").trim().replace(/^'+|'+$/g,"");r[c.trim()]||(r[c.trim()]=l),l==="false"&&(r[c.trim()]=!1),l==="true"&&(r[c.trim()]=!0),isNaN(l)||(r[c.trim()]=parseInt(l,10))}})}}return{formatName:e,formatOptions:r}}function ct(t){var e={};return function(n,i,s){var o=i+JSON.stringify(s),a=e[o];return a||(a=t(i,s),e[o]=a),a(n)}}var fd=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ue(this,t),this.logger=Oe.create("formatter"),this.options=e,this.formats={number:ct(function(r,n){var i=new Intl.NumberFormat(r,Ae({},n));return function(s){return i.format(s)}}),currency:ct(function(r,n){var i=new Intl.NumberFormat(r,Ae(Ae({},n),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:ct(function(r,n){var i=new Intl.DateTimeFormat(r,Ae({},n));return function(s){return i.format(s)}}),relativetime:ct(function(r,n){var i=new Intl.RelativeTimeFormat(r,Ae({},n));return function(s){return i.format(s,n.range||"day")}}),list:ct(function(r,n){var i=new Intl.ListFormat(r,Ae({},n));return function(s){return i.format(s)}})},this.init(e)}return ce(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=ct(n)}},{key:"format",value:function(r,n,i){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=n.split(this.formatSeparator),u=a.reduce(function(c,f){var l=ld(f),p=l.formatName,g=l.formatOptions;if(s.formats[p]){var v=c;try{var x=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},S=x.locale||x.lng||o.locale||o.lng||i;v=s.formats[p](c,S,Ae(Ae(Ae({},g),o),x))}catch(N){s.logger.warn(N)}return v}else s.logger.warn("there was no format function for ".concat(p));return c},r);return u}}]),t}();function pc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pc(Object(r),!0).forEach(function(n){xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hd(t){var e=pd();return function(){var n=le(t),i;if(e){var s=le(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return We(this,i)}}function pd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function dd(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var gd=function(t){at(r,t);var e=hd(r);function r(n,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return ue(this,r),o=e.call(this),dn&&Be.call(me(o)),o.backend=n,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=Oe.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return ce(r,[{key:"queueLoad",value:function(i,s,o,a){var u=this,c={},f={},l={},p={};return i.forEach(function(g){var v=!0;s.forEach(function(x){var S="".concat(g,"|").concat(x);!o.reload&&u.store.hasResourceBundle(g,x)?u.state[S]=2:u.state[S]<0||(u.state[S]===1?f[S]===void 0&&(f[S]=!0):(u.state[S]=1,v=!1,f[S]===void 0&&(f[S]=!0),c[S]===void 0&&(c[S]=!0),p[x]===void 0&&(p[x]=!0)))}),v||(l[g]=!0)}),(Object.keys(c).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(c),pending:Object.keys(f),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(p)}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),u=a[0],c=a[1];s&&this.emit("failedLoading",u,c,s),o&&this.store.addResourceBundle(u,c,o),this.state[i]=s?-1:2;var f={};this.queue.forEach(function(l){Hp(l.loaded,[u],c),dd(l,i),s&&l.errors.push(s),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(function(p){f[p]||(f[p]={});var g=l.loaded[p];g.length&&g.forEach(function(v){f[p][v]===void 0&&(f[p][v]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(l){return!l.done})}},{key:"read",value:function(i,s,o){var a=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:u,wait:c,callback:f});return}this.readingCalls++;var l=function(x,S){if(a.readingCalls--,a.waitingReads.length>0){var N=a.waitingReads.shift();a.read(N.lng,N.ns,N.fcName,N.tried,N.wait,N.callback)}if(x&&S&&u<a.maxRetries){setTimeout(function(){a.read.call(a,i,s,o,u+1,c*2,f)},c);return}f(x,S)},p=this.backend[o].bind(this.backend);if(p.length===2){try{var g=p(i,s);g&&typeof g.then=="function"?g.then(function(v){return l(null,v)}).catch(l):l(null,g)}catch(v){l(v)}return}return p(i,s,l)}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var c=this.queueLoad(i,s,a,u);if(!c.toLoad.length)return c.pending.length||u(),null;c.toLoad.forEach(function(f){o.loadOne(f)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),u=a[0],c=a[1];this.read(u,c,"read",void 0,void 0,function(f,l){f&&s.logger.warn("".concat(o,"loading namespace ").concat(c," for language ").concat(u," failed"),f),!f&&l&&s.logger.log("".concat(o,"loaded namespace ").concat(c," for language ").concat(u),l),s.loaded(i,f,l)})}},{key:"saveMissing",value:function(i,s,o,a,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var l=dc(dc({},c),{},{isUpdate:u}),p=this.backend.create.bind(this.backend);if(p.length<6)try{var g;p.length===5?g=p(i,s,o,a,l):g=p(i,s,o,a),g&&typeof g.then=="function"?g.then(function(v){return f(null,v)}).catch(f):f(null,g)}catch(v){f(v)}else p(i,s,o,a,f,l)}!i||!i[0]||this.store.addResource(i[0],s,o,a)}}}]),r}(Be);function gc(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Q(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Q(e[2])==="object"||Q(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function mc(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function yc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yc(Object(r),!0).forEach(function(n){xe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function md(t){var e=yd();return function(){var n=le(t),i;if(e){var s=le(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return We(this,i)}}function yd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function yn(){}function vd(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var vn=function(t){at(r,t);var e=md(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(ue(this,r),n=e.call(this),dn&&Be.call(me(n)),n.options=mc(i),n.services={},n.logger=Oe,n.modules={external:[]},vd(me(n)),s&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,s),We(n,me(n));setTimeout(function(){n.init(i,s)},0)}return n}return ce(r,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var a=gc();this.options=Te(Te(Te({},a),this.options),mc(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Te(Te({},a.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function u(N){return N?typeof N=="function"?new N:N:null}if(!this.options.isClone){this.modules.logger?Oe.init(u(this.modules.logger),this.options):Oe.init(null,this.options);var c;this.modules.formatter?c=this.modules.formatter:typeof Intl!="undefined"&&(c=fd);var f=new uc(this.options);this.store=new td(this.options.resources,this.options);var l=this.services;l.logger=Oe,l.resourceStore=this.store,l.languageUtils=f,l.pluralResolver=new ud(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(l.formatter=u(c),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new cd(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new gd(u(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",function(N){for(var O=arguments.length,b=new Array(O>1?O-1:0),h=1;h<O;h++)b[h-1]=arguments[h];i.emit.apply(i,[N].concat(b))}),this.modules.languageDetector&&(l.languageDetector=u(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=u(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new ac(this.services,this.options),this.translator.on("*",function(N){for(var O=arguments.length,b=new Array(O>1?O-1:0),h=1;h<O;h++)b[h-1]=arguments[h];i.emit.apply(i,[N].concat(b))}),this.modules.external.forEach(function(N){N.init&&N.init(i)})}if(this.format=this.options.interpolation.format,o||(o=yn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var g=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];g.forEach(function(N){i[N]=function(){var O;return(O=i.store)[N].apply(O,arguments)}});var v=["addResource","addResources","addResourceBundle","removeResourceBundle"];v.forEach(function(N){i[N]=function(){var O;return(O=i.store)[N].apply(O,arguments),i}});var x=Ct(),S=function(){var O=function(h,d){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),x.resolve(d),o(h,d)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return O(null,i.t.bind(i));i.changeLanguage(i.options.lng,O)};return this.options.resources||!this.options.initImmediate?S():setTimeout(S,0),x}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yn,a=o,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return a();var c=[],f=function(g){if(!!g){var v=s.services.languageUtils.toResolveHierarchy(g);v.forEach(function(x){c.indexOf(x)<0&&c.push(x)})}};if(u)f(u);else{var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.forEach(function(p){return f(p)})}this.options.preload&&this.options.preload.forEach(function(p){return f(p)}),this.services.backendConnector.load(c,this.options.ns,function(p){!p&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),a(p)})}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=Ct();return i||(i=this.languages),s||(s=this.options.ns),o||(o=yn),this.services.backendConnector.reload(i,s,function(u){a.resolve(),o(u)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&ic.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=Ct();this.emit("languageChanging",i);var u=function(p){o.language=p,o.languages=o.services.languageUtils.toResolveHierarchy(p),o.resolvedLanguage=void 0,o.setResolvedLanguage(p)},c=function(p,g){g?(u(g),o.translator.changeLanguage(g),o.isLanguageChangingTo=void 0,o.emit("languageChanged",g),o.logger.log("languageChanged",g)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(p,function(){return o.t.apply(o,arguments)})},f=function(p){!i&&!p&&o.services.languageDetector&&(p=[]);var g=typeof p=="string"?p:o.services.languageUtils.getBestMatchFromCodes(p);g&&(o.language||u(g),o.translator.language||o.translator.changeLanguage(g),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(g)),o.loadResources(g,function(v){c(v,g)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),a}},{key:"getFixedT",value:function(i,s,o){var a=this,u=function c(f,l){var p;if(Q(l)!=="object"){for(var g=arguments.length,v=new Array(g>2?g-2:0),x=2;x<g;x++)v[x-2]=arguments[x];p=a.options.overloadTranslationOptionHandler([f,l].concat(v))}else p=Te({},l);p.lng=p.lng||c.lng,p.lngs=p.lngs||c.lngs,p.ns=p.ns||c.ns,p.keyPrefix=p.keyPrefix||o||c.keyPrefix;var S=a.options.keySeparator||".",N;return p.keyPrefix&&Array.isArray(f)?N=f.map(function(O){return"".concat(p.keyPrefix).concat(S).concat(O)}):N=p.keyPrefix?"".concat(p.keyPrefix).concat(S).concat(f):f,a.t(N,p)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=s,u.keyPrefix=o,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=o.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var f=function(g,v){var x=s.services.backendConnector.state["".concat(g,"|").concat(v)];return x===-1||x===2};if(o.precheck){var l=o.precheck(this,f);if(l!==void 0)return l}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(a,i)&&(!u||f(c,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=Ct();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){a.resolve(),s&&s(u)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=Ct();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],u=i.filter(function(c){return a.indexOf(c)<0});return u.length?(this.options.preload=a.concat(u),this.loadResources(function(c){o.resolve(),s&&s(c)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new uc(gc());return s.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yn,a=Te(Te(Te({},this.options),s),{isClone:!0}),u=new r(a);(s.debug!==void 0||s.prefix!==void 0)&&(u.logger=u.logger.clone(s));var c=["store","services","language"];return c.forEach(function(f){u[f]=i[f]}),u.services=Te({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new ac(u.services,u.options),u.translator.on("*",function(f){for(var l=arguments.length,p=new Array(l>1?l-1:0),g=1;g<l;g++)p[g-1]=arguments[g];u.emit.apply(u,[f].concat(p))}),u.init(a,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Be);xe(vn,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new vn(t,e)});var j=vn.createInstance();j.createInstance=vn.createInstance;var dm=j.createInstance,gm=j.dir,mm=j.init,ym=j.loadResources,vm=j.reloadResources,bm=j.use,wm=j.changeLanguage,Em=j.getFixedT,xm=j.t,Om=j.exists,Tm=j.setDefaultNamespace,Nm=j.hasLoadedNamespace,Sm=j.loadNamespaces,Dm=j.loadLanguages;var _i=class extends K.PluginSettingTab{constructor(e,r){super(e,r);this.plugin=r}display(){let{containerEl:e}=this;e.empty(),new K.Setting(e).setName(j.t("Tag_o")).setDesc(j.t("Tag")).addText(r=>r.setPlaceholder("book").setValue(this.plugin.settings.tag).onChange(async n=>{this.plugin.settings.tag=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:j.t("import")}),new K.Setting(e).setName(j.t("Library_o")).setDesc(j.t("Library")).addTextArea(r=>{r.setValue(this.plugin.settings.libraries.join(`
`)).onChange(async n=>{this.plugin.settings.libraries=n.split(`
`).map(i=>i.trim()),await this.plugin.saveSettings()})}),new K.Setting(e).setName(j.t("byDrag_o")).setDesc(j.t("byDrag")).addToggle(r=>{r.setValue(this.plugin.settings.byDrag).onChange(async n=>{this.plugin.settings.byDrag=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:j.t("storage")}),new K.Setting(e).setName(j.t("Save path_o")).setDesc(j.t("Save path")).addText(r=>r.setValue(this.plugin.settings.savePath).onChange(async n=>{this.plugin.settings.savePath=n,await this.plugin.saveSettings()})),new K.Setting(e).setName(j.t("Assets path_o")).setDesc(j.t("Assets path")).addText(r=>r.setValue(this.plugin.settings.assetsPath).onChange(async n=>{this.plugin.settings.assetsPath=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:j.t("display")}),new K.Setting(e).setName(j.t("Hierarchy depth_o")).setDesc(j.t("Hierarchy depth")).addSlider(r=>{r.setLimits(0,5,1).setDynamicTooltip().setValue(this.plugin.settings.granularity).onChange(async n=>{this.plugin.settings.granularity=n,await this.plugin.saveSettings()})}),new K.Setting(e).setName("moc file name").setDesc("filename for moc file.").addText(r=>r.setValue(this.plugin.settings.mocName).onChange(async n=>{this.plugin.settings.mocName=n,await this.plugin.saveSettings()})),new K.Setting(e).setName("notePropertysTemplate").setDesc("notePropertysTemplate.").addTextArea(r=>{r.setValue(this.plugin.settings.notePropertysTemplate).onChange(async n=>{this.plugin.settings.notePropertysTemplate=n,await this.plugin.saveSettings()})}),new K.Setting(e).setName("oneNote").setDesc("Convert the entire book into a single markdown file.").addToggle(r=>{r.setValue(this.plugin.settings.oneNote).onChange(async n=>{this.plugin.settings.oneNote=n,await this.plugin.saveSettings()})}),new K.Setting(e).setName("oneFolder").setDesc("Place oneNote in a folder with the same name.").addToggle(r=>{r.setValue(this.plugin.settings.oneFolder).onChange(async n=>{this.plugin.settings.oneFolder=n,await this.plugin.saveSettings()})}),new K.Setting(e).setName(j.t("Propertys template_o")).setDesc(j.t("Propertys template")).addTextArea(r=>{r.setValue(this.plugin.settings.mocPropertysTemplate).onChange(async n=>{this.plugin.settings.mocPropertysTemplate=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:j.t("content")}),new K.Setting(e).setName(j.t("imageFormat_o")).setDesc(j.t("imageFormat")).addDropdown(r=>r.addOptions({"![](imagePath)":"![](imagePath)","![[imagePath]]":"![[imagePath]]","![[imagePath|caption]]":"![[imagePath|caption]]"}).setValue(this.plugin.settings.imageFormat).onChange(async n=>{this.plugin.settings.imageFormat=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:j.t("helper")}),new K.Setting(e).setName(j.t("Auto open right panel_o")).setDesc(j.t("Auto open right panel")).addToggle(r=>{r.setValue(this.plugin.settings.autoOpenRightPanel).onChange(async n=>{this.plugin.settings.autoOpenRightPanel=n,await this.plugin.saveSettings()})}),new K.Setting(e).setName(j.t("AllBooks_o")).setDesc(j.t("AllBooks")).addToggle(r=>{r.setValue(this.plugin.settings.allbooks).onChange(async n=>{this.plugin.settings.allbooks=n,await this.plugin.saveSettings()})}),this.containerEl.createEl("h2",{text:j.t("developing")}),new K.Setting(e).setName(j.t("Remove duplicate folders_o")).setDesc(j.t("Remove duplicate folders")).addToggle(r=>{r.setValue(this.plugin.settings.removeDuplicateFolders).onChange(async n=>{this.plugin.settings.removeDuplicateFolders=n,await this.plugin.saveSettings()})}),new K.Setting(e).setName("more log").setDesc("more log").addToggle(r=>{r.setValue(this.plugin.settings.moreLog).onChange(async n=>{this.plugin.settings.moreLog=n,await this.plugin.saveSettings()})})}};var Ne=he(cn());var vc=he(require("obsidian"));function ji(t,e){let r=t.vault.getMarkdownFiles(),n=[];return r.forEach(i=>{let s=t.metadataCache.getFileCache(i)?.frontmatter?.tags;!s||s.includes(e)&&n.push(i)}),n}function bn(t){return`---
`+(0,vc.stringifyYaml)(t)+`
---`}function Pt(t,e){return Object.keys(e).reduce((r,n)=>r.replaceAll(`{{${n}}}`,e[n]),t)}var qi=he(require("obsidian"));var ki={};En(ki,{AllBooks:()=>Kc,AllBooks_o:()=>Hc,"Assets path":()=>_c,"Assets path_o":()=>Mc,"Auto open right panel":()=>Wc,"Auto open right panel_o":()=>Vc,"Hierarchy depth":()=>Rc,"Hierarchy depth_o":()=>kc,Library:()=>Cc,Library_o:()=>Dc,"Propertys template":()=>Xc,"Propertys template_o":()=>qc,"Remove duplicate folders":()=>Jc,"Remove duplicate folders_o":()=>Yc,"Save path":()=>Fc,"Save path_o":()=>Ac,Tag:()=>Nc,Tag_o:()=>Tc,byDrag:()=>Ic,byDrag_o:()=>Pc,content:()=>Bc,default:()=>bd,developing:()=>Gc,display:()=>jc,helper:()=>zc,imageFormat:()=>$c,imageFormat_o:()=>Uc,import:()=>Sc,"import-epub":()=>bc,"no book in libraries":()=>xc,"no libraries":()=>Ec,storage:()=>Lc,"sync-libraries":()=>wc,"sync-libraries_r":()=>Oc});var bc="Import epub to your vault",wc="Import all epub from libraries to your vault",Ec="You have not added any library to the settings page",xc="There is no epub in the libraries",Oc="Successfully imported ${n} books",Tc="Tag",Nc="The tag is used to identify book objects",Sc="Import",Dc="Library",Cc="The plugin will search for .epub files from these paths. Please enter an absolute path, not a relative path in obsidan vault.",Pc="Import by drag",Ic="Import .epub file by drag it to obsidian vault. The .epub  file will be deleted after importing.",Lc="Storage",Ac="Save path",Fc="The plugin will save the imported book to this path.",Mc="Assets path",_c="The plugin will save the assets of the imported book to this path.",jc="Display/Indexing",kc="Hierarchy depth",Rc="Determine the Hierarchy depth of generated markdown notes.",qc="Propertys template",Xc="The plugin will add these propertys to the imported book.",Bc="Content/Format",Uc="imageFormat",$c="The type of imageFormat. caption only for chinese now.",zc="Helper",Vc="Auto open right panel",Wc="The plugin will open the book note on right panel when you open a book.",Hc="AllBooks",Kc="Create AllBooks.md in root folder",Gc="Developing",Yc="Remove duplicate folders",Jc="Remove duplicate folders(risky, for users who understand the usefulness of this option, or developers).",bd={"import-epub":bc,"sync-libraries":wc,"no libraries":Ec,"no book in libraries":xc,"sync-libraries_r":Oc,Tag_o:Tc,Tag:Nc,import:Sc,Library_o:Dc,Library:Cc,byDrag_o:Pc,byDrag:Ic,storage:Lc,"Save path_o":Ac,"Save path":Fc,"Assets path_o":Mc,"Assets path":_c,display:jc,"Hierarchy depth_o":kc,"Hierarchy depth":Rc,"Propertys template_o":qc,"Propertys template":Xc,content:Bc,imageFormat_o:Uc,imageFormat:$c,helper:zc,"Auto open right panel_o":Vc,"Auto open right panel":Wc,AllBooks_o:Hc,AllBooks:Kc,developing:Gc,"Remove duplicate folders_o":Yc,"Remove duplicate folders":Jc};var Ri={};En(Ri,{AllBooks:()=>Dl,AllBooks_o:()=>Sl,"Assets path":()=>dl,"Assets path_o":()=>pl,"Auto open right panel":()=>Nl,"Auto open right panel_o":()=>Tl,"Hierarchy depth":()=>yl,"Hierarchy depth_o":()=>ml,Library:()=>al,Library_o:()=>ol,"Propertys template":()=>bl,"Propertys template_o":()=>vl,"Remove duplicate folders":()=>Il,"Remove duplicate folders_o":()=>Pl,"Save path":()=>hl,"Save path_o":()=>fl,Tag:()=>il,Tag_o:()=>nl,byDrag:()=>cl,byDrag_o:()=>ul,content:()=>wl,default:()=>wd,developing:()=>Cl,display:()=>gl,helper:()=>Ol,imageFormat:()=>xl,imageFormat_o:()=>El,import:()=>sl,"import-epub":()=>Qc,"no book in libraries":()=>tl,"no libraries":()=>el,storage:()=>ll,"sync-libraries":()=>Zc,"sync-libraries_r":()=>rl});var Qc="\u5BFC\u5165epub\u5230\u5E93\u4E2D",Zc="\u5C06\u6240\u6709\u4E66\u5E93\u4E2D\u7684epub\u5BFC\u5165\u5230\u5E93\u4E2D",el="\u4F60\u6CA1\u6709\u5728\u8BBE\u7F6E\u9875\u4E2D\u6DFB\u52A0\u4EFB\u4F55\u4E66\u5E93",tl="\u4E66\u5E93\u91CC\u6CA1\u6709\u4EFB\u4F55epub",rl="\u6210\u529F\u5BFC\u5165\u4E86 ${n} \u672C\u4E66",nl="\u6807\u7B7E",il="\u8FD9\u4E2A\u6807\u7B7E\u7528\u4E8E\u8BC6\u522B\u4E66\u7C4D\u5BF9\u8C61",sl="\u5BFC\u5165",ol="\u4E66\u5E93",al="\u8BE5\u63D2\u4EF6\u5C06\u4ECE\u8FD9\u4E9B\u8DEF\u5F84\u4E2D\u641C\u7D22 .epub \u6587\u4EF6\u3002 \u8BF7\u8F93\u5165\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u800C\u4E0D\u662Fobsidian vault\u4E2D\u7684\u76F8\u5BF9\u8DEF\u5F84\u3002",ul="\u901A\u8FC7\u62D6\u62FD\u5BFC\u5165",cl="\u5C06.epub\u6587\u4EF6\u62D6\u62FD\u5230obsidian\u5E93\u4E2D\u6765\u5BFC\u5165\u5B83\u3002\u5BFC\u5165\u540E\u5C06\u5220\u9664\u8BE5.epub\u6587\u4EF6\u3002",ll="\u5B58\u50A8",fl="\u4FDD\u5B58\u8DEF\u5F84",hl="\u5BFC\u5165\u7684epub\u5C06\u4F1A\u88AB\u4FDD\u5B58\u5230\u8BE5\u8DEF\u5F84\u3002",pl="\u9644\u4EF6\u8DEF\u5F84",dl="\u9644\u4EF6\u5C06\u4F1A\u88AB\u4FDD\u5B58\u5230\u8BE5\u8DEF\u5F84\u3002",gl="\u663E\u793A/\u7D22\u5F15",ml="\u5C42\u7EA7\u6DF1\u5EA6",yl="\u51B3\u5B9A\u751F\u6210\u7684 Markdown \u7B14\u8BB0\u7684\u5C42\u7EA7\u7ED3\u6784\u6DF1\u5EA6\u3002",vl="\u5C5E\u6027\u6A21\u677F",bl="\u5C5E\u6027\u5C06\u4F1A\u88AB\u6DFB\u52A0\u5230\u751F\u6210\u7684 MOC \u6587\u4EF6\u4E2D\u3002",wl="\u5185\u5BB9/\u683C\u5F0F",El="\u56FE\u7247\u683C\u5F0F",xl="\u56FE\u7247\u7684\u683C\u5F0F\uFF0C\u6807\u6CE8\u73B0\u5728\u4EC5\u652F\u6301\u4E2D\u6587\u3002",Ol="\u8F85\u52A9",Tl="\u81EA\u52A8\u6253\u5F00\u53F3\u680F",Nl="\u4E8E\u4E00\u672C\u4E66\u7C4D\u5185\u6D4F\u89C8\u65F6\uFF0C\u5728\u53F3\u680F\u6253\u5F00MOC\u6587\u4EF6\uFF0C\u4EE5\u4F9B\u5BFC\u822A\u3002",Sl="AllBooks",Dl="\u5728\u6839\u76EE\u5F55\u521B\u5EFA AllBooks.md \u6587\u4EF6\u3002\u5176\u5C06\u81EA\u52A8\u8FDE\u63A5\u5230\u6BCF\u4E00\u672C\u4E66\u7C4D\u3002",Cl="\u5F00\u53D1",Pl="\u5220\u9664\u91CD\u590D\u6587\u4EF6\u5939",Il="\u5220\u9664\u91CD\u590D\u7684\u6587\u4EF6\u5939\uFF08\u6709\u98CE\u9669\uFF0C\u4EC5\u9002\u7528\u4E8E\u4E86\u89E3\u6B64\u9009\u9879\u6709\u7528\u7684\u7528\u6237\u6216\u5F00\u53D1\u4EBA\u5458\uFF09\u3002",wd={"import-epub":Qc,"sync-libraries":Zc,"no libraries":el,"no book in libraries":tl,"sync-libraries_r":rl,Tag_o:nl,Tag:il,import:sl,Library_o:ol,Library:al,byDrag_o:ul,byDrag:cl,storage:ll,"Save path_o":fl,"Save path":hl,"Assets path_o":pl,"Assets path":dl,display:gl,"Hierarchy depth_o":ml,"Hierarchy depth":yl,"Propertys template_o":vl,"Propertys template":bl,content:wl,imageFormat_o:El,imageFormat:xl,helper:Ol,"Auto open right panel_o":Tl,"Auto open right panel":Nl,AllBooks_o:Sl,AllBooks:Dl,developing:Cl,"Remove duplicate folders_o":Pl,"Remove duplicate folders":Il};var Xi={en:{translation:ki},zh_cn:{translation:Ri}},Ll=Object.keys(Xi).find(t=>t==qi.moment.locale().replace("-","_"))?qi.moment.locale().replace("-","_"):"en";var Bi=class extends te.Plugin{async onload(){j.init({lng:Ll,fallbackLng:"en",resources:Xi,returnNull:!1}),this.vaultPath=this.app.vault.adapter.basePath,await this.loadSettings(),this.addSettingTab(new _i(this.app,this)),this.addCommand({id:"import-epub",name:j.t("import-epub"),callback:()=>{new Si(this.app,this.settings.libraries,async e=>{await this.importEpub(e)}).open()}}),this.addCommand({id:"sync-libraries",name:j.t("sync-libraries"),callback:async()=>{if(this.settings.libraries.length==0){new te.Notice(j.t("no libraries"));return}let e=0;for(let r=0;r<this.settings.libraries.length;r++){let n=Ne.default.find(this.settings.libraries[r],{matching:"**/**.epub"});for(let i=0;i<n.length;i++)await this.importEpub(Ne.default.path(n[i])),e++}e==0?(new te.Notice(j.t("no book in libraries")),console.log(j.t("no book in libraries"))):(new te.Notice(j.t("translation:sync-libraries_r").replace("${n}",e.toString())),console.log(j.t("translation:sync-libraries_r").replace("${n}",e.toString())))}}),this.registerDomEvent(document,"drop",async e=>{if(this.settings.byDrag&&e.toElement.className=="nav-files-container node-insert-event"){let r=e.dataTransfer.files;r.length==1&&new V(r[0].name).suffix=="epub"&&(await this.importEpub(r[0].path),Ne.default.find(this.vaultPath,{matching:"**/**.epub"}).forEach(Ne.default.remove))}}),this.registerEvent(this.app.workspace.on("file-open",e=>{if(!this.settings.autoOpenRightPanel)return;let r=this.getMocPath(e);if(!r&&e.basename!="highlights")return this.activeLeaf.detach();let n=this.app.vault.getAbstractFileByPath(r).parent.name;this.activeBook!=n&&(this.activeLeaf&&this.activeLeaf.detach(),this.activeBook=n,this.activeLeaf=this.app.workspace.getRightLeaf(!1),this.activeLeaf.setViewState({type:"markdown",state:{file:r,mode:"preview",backlinks:!1,source:!1}}),this.activeLeaf.setPinned(!0),this.app.workspace.revealLeaf(this.activeLeaf))})),this.registerEvent(this.app.workspace.on("quit",()=>{this.activeLeaf.detach()})),this.registerEvent(this.app.workspace.on("file-open",()=>{if(!this.settings.allbooks)return;let e=ji(this.app,this.settings.tag),r=this.app.vault.getAbstractFileByPath("AllBooks.md");r&&r instanceof te.TFile?this.app.vault.modify(r,e.map(n=>`- [[${n.path}|${n.parent?.name}]]`).join(`
`)):this.app.vault.create("AllBooks.md",e.map(n=>`[[${n.path}|${n.parent?.name}]]`).join(`
`))}))}onunload(){try{this.activeLeaf.detach()}catch(e){}}async loadSettings(){this.settings=Object.assign({},Yu,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async importEpub(e){let r=new V(e).stem,{assetsPath:n,mocPropertysTemplate:i,savePath:s,tag:o,granularity:a}=this.settings,c=new V(s).join(r),f=new V(this.vaultPath,c.string).string;if(Ne.default.exists(f))if(this.settings.removeDuplicateFolders)Ne.default.remove(f);else{new te.Notice("Duplicate folder already exists.");return}if(this.assetsPath=Pt(n,{bookName:r,savePath:s}),this.parser=new Ti(e,this.settings.moreLog),await this.parser.init(),this.settings.moreLog&&console.log("toc is: ",this.parser.toc),this.propertys=(0,te.parseYaml)(Pt(i,this.parser.meta)),this.propertys.tags=(this.propertys.tags??[]).concat([o]),this.BookNote="",await this.app.vault.createFolder(c.string),this.copyImages(),this.settings.oneNote){[...this.parser.chapters].filter(g=>g.level!=0).sort((g,v)=>v.level-g.level).forEach(g=>g.parent.sections.push(...g.sections));let l="";for(let g of this.parser.chapters.filter(v=>v.level==0))l+=g.sections.map(v=>this.htmlToMD(v.html)).join(`

`);let p=c;return this.settings.oneFolder&&(p=c.join(r)),await this.app.vault.create(p.withSuffix("md").string,bn(this.propertys)+`
`+l),0}[...this.parser.chapters].filter(l=>l.level>a).sort((l,p)=>p.level-l.level).forEach(l=>l.parent.sections.push(...l.sections));for(let l of this.parser.chapters.filter(p=>p.level<=a)){l.name.startsWith("... ")&&(l.sections[0].name=l.name.replace("... ","")),l.name.includes("/")&&(l.sections[0].name=l.name.replace("/","&")),l.name.includes("\\")&&(l.sections[0].name=l.name.replace("\\","&"));let p=[l.name],g=x=>{x.parent&&(p.unshift(x.parent.name),g(x.parent))};g(l),l.level<a&&l.subItems.length!=0&&p.push(l.name);let v=c.join(...p);try{await this.app.vault.createFolder(v.parent.string)}catch(x){}await this.app.vault.create(v.string+".md",(this.settings.notePropertysTemplate?bn((0,te.parseYaml)(Pt(this.settings.notePropertysTemplate,{created_time:Date.now().toString()})))+`
`:"")+l.sections.map(x=>this.htmlToMD(x.html)).join(`

`)),this.BookNote+=`${"	".repeat(l.level)}- [[${v.string}|${l.name}]]
`}this.BookNote=bn(this.propertys)+`
`+this.BookNote,await this.app.vault.create(c.join(Pt(this.settings.mocName,{bookName:r})).string+".md",this.BookNote),Ne.default.remove(this.parser.tmpPath),console.log(`Successfully imported ${r}`),new te.Notice(`Successfully imported ${r}`)}copyImages(){let e=new V(this.vaultPath,this.assetsPath);Ne.default.find(this.parser.tmpPath,{matching:["*.jpg","*.jpeg","*.png"]}).forEach(r=>Ne.default.copy(r,e.join(new V(r).name).string,{overwrite:!0})),this.parser.coverPath&&(this.propertys.cover=new V(this.assetsPath,new V(this.parser.coverPath).name).string)}htmlToMD(e){let r=(0,te.htmlToMarkdown)(e||"");return e&&!r&&(r=e.replace(/<[^>]+>/g,"")),Nt.parse(r,this.assetsPath,this.settings.imageFormat)}getMocPath(e){let r=ji(this.app,this.settings.tag);return r.includes(e)?e.path:r.find(n=>this.app.metadataCache.getCache(n.path).links.some(i=>i.link+".md"==e.path))?.path}};0&&(module.exports={});
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
